!function(){"use strict";var e={962:function(e){e.exports={getText:e=>{if(!e)return"";let t=[],i="";const n=e=>{null!==e.text&&void 0!==e.text&&(i+=e.text),e.children&&e.children.forEach((e=>{n(e)}))};return e.forEach((e=>{n(e),t.push(i),i=""})),t.join("\n")},getTextDirection:e=>/[\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC]/.test(e)?"rtl":"ltr"}}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}!function(){var e=e=>window.Enabler?window.Enabler.getUrl(e):e;const t={domUniqueId:0,eventPrefix:"",eventsFallbackAlias:{mouseenter:"mouseover",mouseleave:"mouseout"},cssStyle:{},cssStyleArray:[],rawCssStyle:"",cssPropsAlias:{fontFamily:"font-family",fontWeight:"font-weight",fontStyle:"font-style",fontSize:"font-size",lineHeight:"line-height"}};function n(e){const t=e.replace(/[^\d,.]/g,"").split(",");return{r:t[0],g:t[1],b:t[2],a:t[3]}}function s(e,t){return`#${0!=t?(256+parseInt(256*Number(e.a))).toString(16).substr(1):""}${(256+parseInt(e.r)).toString(16).substr(1)}${(256+parseInt(e.g)).toString(16).substr(1)}${(256+parseInt(e.b)).toString(16).substr(1)}`}function r(){if(null!=t.IEVersion)return t.IEVersion;let e=-1;if("Microsoft Internet Explorer"===navigator.appName){const t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return t.IEVersion=e,e}function o(e){return e.length<2?`0${e}`:e}function a(e,t){if(!e)return null;void 0===t&&(t=26);const i=function(e){if(!e)return null;e=e.toLowerCase();const t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],i={r:"",g:"",b:""};return i.r=parseInt((16*t.indexOf(e[1])+t.indexOf(e[2])).toString()),i.g=parseInt((16*t.indexOf(e[3])+t.indexOf(e[4])).toString()),i.b=parseInt((16*t.indexOf(e[5])+t.indexOf(e[6])).toString()),i}(e);return i.r=Math.min(255,parseInt(i.r)+t),i.g=Math.min(255,parseInt(i.g)+t),i.b=Math.min(255,parseInt(i.b)+t),`#${o(i.r.toString(16))}${o(i.g.toString(16))}${o(i.b.toString(16))}`}function l(e,i){const n="eautils-css",s=window.document.getElementsByTagName("head")[0];let r,o=window.document.getElementById(n);if(null==o&&(o=window.document.createElement("style"),o.type="text/css",o.id=n,s.appendChild(o)),void 0!==t.cssStyle[i]){t.rawCssStyle="",t.cssStyle[i].css=e;for(let e=0;e<t.cssStyleArray.length;e++)r=t.cssStyleArray[e],t.rawCssStyle+=r.css}else t.rawCssStyle+=e,r={},r.css=e,t.cssStyle[i]=r,t.cssStyleArray.push(r);o.styleSheet?o.styleSheet.cssText=t.rawCssStyle:o.innerHTML=t.rawCssStyle}function d(e,t){return e.className.match(new RegExp(`(\\s|^)${t}(\\s|$)`))}function c(e,t){d(e,t)||(e.className+=` ${t}`)}function p(e,t){if(d(e,t)){const i=new RegExp(`(\\s|^)${t}(\\s|$)`);e.className=e.className.replace(i," ")}}function h(e){return!0===e||"true"===e}function u(e){if(!e)return null;const t={"text-shadow":""};if(h(e.useShadow)){const i=`${e.hShadow}px ${e.vShadow}px ${e.blur}px ${e.color}`;t.textShadow=i,t["text-shadow"]=i,t["-moz-text-shadow"]=i,t["-o-text-shadow"]=i,t["-ms-text-shadow"]=i,t["will-change"]="text-shadow"}return t}function y(e){if(!e)return null;const t={"-webkit-box-shadow":"","box-shadow":""};return h(e.useShadow)&&(t.boxShadow=`${e.hShadow}px ${e.vShadow}px ${e.blur}px ${e.spread}px ${e.color}`,t["-webkit-box-shadow"]=t.boxShadow,t["will-change"]="box-shadow"),t}function f(e){let t={};if(!e)return t;let i=e.type,o=e.scolor;switch("lgrad"!==i&&"rgrad"!==i||(e.gradColors&&e.gradColors.length?e.gradColors.length<2&&e.gradColors.length>0&&(o=e.gradColors[0].c,i="solid"):(i="solid",o="#fff")),h(e.useBorder)&&(t.border=`1px solid ${e.borderColor}`),t["background-image"]="",i){case"none":break;case"image":t=function(e,t){let i,n;const s=m(t);e["background-image"]=`url(${s})`,e["--retina-src"]=s;for(const s in t)switch(s){case"scaleMode":case"verticalAlign":case"horizontalAlign":switch(t.verticalAlign){case"top":i="0";break;case"middle":i="50%";break;case"bottom":i="100%"}switch(t.horizontalAlign){case"left":n="0";break;case"center":n="50%";break;case"right":n="100%"}e["background-position"]=`${n} ${i}`;break;case"contentOffsetX":"tile"===t.scaleMode&&(e["background-position-x"]=`${t[s]}%`);break;case"contentOffsetY":"tile"===t.scaleMode&&(e["background-position-y"]=`${t[s]}%`)}return e}(t,e=function(e){return e&&e.type&&"image"===e.type&&e.tile&&(e.scaleMode="tile",e.contentScale=100,e.contentOffsetX=50,e.contentOffsetY=50,delete e.tile),e}(e));break;case"solid":if(o&&o.includes("rgba")){const e=r();e>-1&&e<9&&(o=s(n(o),!1))}t["background-color"]=o;break;case"rgrad":case"lgrad":const i=e.gradColors,a=[];for(let e=0;e<i.length;e++)a.push(`${i[e].c} ${i[e].p}%`);const l=a.join();let d="linear",c=`${e.rotation||"0"}deg`;if("rgrad"===e.type){d="radial";let t=e.rgradPos||"center";if("custom"===t){let i="";e.gradPosX&&e.gradPosX.includes("%")||(i="px");let n="";e.gradPosY&&e.gradPosY.includes("%")||(n="px"),t=`${(e.gradPosX||"0")+i} ${e.gradPosY||"0"}${n}`}c=`${t}, circle cover`}else e.backgroundRotation&&(c=`${e.backgroundRotation}deg`);if(i&&i.length>0){t["background-image"]=[];const i=`${d}-gradient(${c}, ${l})`;(e=t["background-image"]).push(`-webkit-${i}`),e.push(`-moz-${i}`),e.push(`-o-${i}`),e.push(`-ms-${i}`)}t.filter=`progid:DXImageTransform.Microsoft.gradient( startColorstr='${i[0].c}', endColorstr='${i[i.length-1].c}',GradientType=0 )`}return t}function m(e){return window.bannerConfig.hqImages&&e.hqUrl&&e.source!==window.bannerConfig.watermark.source?e.hqUrl:e.localUrl?`${void 0!==window.bannerConfig.imgLocalPath?window.bannerConfig.imgLocalPath:"media/"}${e.localUrl}`:e.url&&e.url.includes("//")?e.url:e.url?window.bannerConfig.photosUrl+e.url:null}function b(e,t){const i="repeat, no-repeat";switch(t){case"aspect":e.backgroundSize=`${window.bannerConfig.watermark.size}px, contain`;break;case"stretch":e.backgroundSize=`${window.bannerConfig.watermark.size}px, 100% 100%`,e.backgroundRepeat=i;break;case"mask":e.backgroundSize=`${window.bannerConfig.watermark.size}px, auto`,e.backgroundRepeat=i;break;case"crop":e.backgroundSize=`${window.bannerConfig.watermark.size}px,\n            cover`,e.backgroundRepeat=i;break;default:e.backgroundSize=`${window.bannerConfig.watermark.size}px,            ${e.backgroundSize||"cover"}`}}function g(e,t){for(const i in t)e.style[i]=t[i]}function w(e){return JSON.parse(JSON.stringify(e))}function C(e){return e&&0!==String(e).length?e.includes("://")||e.includes("mailto:")||e.includes("tel:")?e:"http://"+e:""}function v(e,t){const i=window.innerWidth/e,n=window.innerHeight/t;return{proportion:Math.min(i,n)}}function S(e,t,i){return e.substring(t,t+i)}function k(e){return e.replace(/([A-Z])/g,(e=>`-${e.toLowerCase()}`))}class T{constructor(){window.assetsCache={},this.fontTypes={CUSTOM:"custom",BANNERSNACK:"bannersnack",CREATOPY:"creatopy",GOOGLE:"google"},this.loadedSlides={},this.imagesToLoad=[],this.fontsToLoad=[],this.gFontsToLoad=[],this.videosToLoad=[],this.audiosToLoad=[],this.getFontUrl=function(e){if(e.localUrl){let t=void 0!==window.bannerConfig.fontLocalPath?window.bannerConfig.fontLocalPath:"fonts/";return window.bannerConfig.embedUrl&&(t=window.bannerConfig.embedUrl+t),`${t}${e.localUrl}`}switch(e.fontFamily=this.unquoted(e.fontFamily),e.fontType){case this.fontTypes.BANNERSNACK:case this.fontTypes.CREATOPY:return e.fontUrl?e.fontUrl.includes("//")?e.fontUrl:`//${e.fontUrl}`:"";case this.fontTypes.CUSTOM:return e.fontUrl?`//${e.fontFaceUrl?e.fontUrl:`${e.fontUrl}.ttf`}`:"";case this.fontTypes.GOOGLE:{let t=`${e.fontFamily.split(" ").join("+")}:${parseInt(e.fontWeight)}`;return"italic"===e.fontStyle&&(t+="i"),t}default:return""}},this.loadGFonts=function(){const e=this,t=this.gFontsToLoad.concat();if(!t.length)return;const i=()=>Promise.all(t.map(((e,t)=>{const i=e.split(":")[0].replace(/\+/g," "),n=e.split(":")[1],s=`${n.indexOf("i")>-1?"italic":""} ${n?parseInt(n)||400:""} 1em "${i}"`;return window.document.fonts.load(s).then((e=>{if(e.length>=1)return!0;throw new Error(`Error loading font ${i}`)})).catch((e=>{console.error(e)})).finally((()=>{const t=this.gFontsToLoad.indexOf(e);t>-1&&this.gFontsToLoad.splice(t,1)}))}))).catch((e=>{console.error(e)})).finally((()=>{e.resolveIfAssetsLoaded()}));let n=`https://fonts.googleapis.com/css?family=${t.join("|")}`;this.bannerConfig.preview&&(n+="&subset=cyrillic,cyrillic-ext,greek,greek-ext,latin,latin-ext,vietnamese");const s=window.document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("href",n),s.addEventListener("load",i),s.addEventListener("error",i),window.document.head.appendChild(s)},this.addFontToDOM=function(e){const t=this;let i,n,s,r="ttf";e.fontType||(e.fontType=this.fontTypes.GOOGLE);const o=this.getFontUrl(e);if(o&&!window.assetsCache[o]){e.fontType!==this.fontTypes.GOOGLE&&this.fontsToLoad.push(o);const a=(e,i,n,s)=>{const r=`${i} ${n?parseInt(n)||400:""} 1em "${s}"`;return window.document.fonts.load(r).then((e=>{if(e.length>=1)return!0;throw new Error(`Error loading font ${s}`)}),(e=>{throw new Error(e)})).catch((e=>{console.error(e)})).finally((()=>{const i=t.fontsToLoad.indexOf(e);i>-1&&t.fontsToLoad.splice(i,1),t.resolveIfAssetsLoaded()}))};switch(i=()=>{t.fontsToLoad.pop(),t.resolveIfAssetsLoaded()},e.fontType){case this.fontTypes.GOOGLE:this.gFontsToLoad.push(o);break;case this.fontTypes.BANNERSNACK:case this.fontTypes.CREATOPY:case this.fontTypes.CUSTOM:if(e.fontFamily){const t=`@font-face {\nfont-family: '${e.fontPrefix||""}${e.fontFamily.replace(/'/g,"\\'")}';\nfont-style: ${e.fontStyle};\nfont-weight: ${e.fontWeight};\nsrc: url(${o});\n}\n`;n=window.document.createElement("style"),n.appendChild(window.document.createTextNode(t)),n.addEventListener("load",(()=>{a(o,e.fontStyle,e.fontWeight,`${e.fontPrefix||""}${e.fontFamily.replace(/'/g,"\\'")}`)})),n.addEventListener("error",i),window.document.head.appendChild(n)}else this.relPreloadSupported()&&(r=o.substr(o.lastIndexOf(".")+1),s=window.document.createElement("link"),s.setAttribute("rel","preload"),s.setAttribute("type",`font/${r}`),s.setAttribute("as","font"),s.setAttribute("href",o),s.addEventListener("load",i),s.addEventListener("error",i),window.document.head.appendChild(s))}window.assetsCache[o]=!0}},this.unquoted=e=>"string"==typeof e?e.replace(/(^")|("$)/g,""):e,this.relPreloadSupported=()=>((e,t)=>{if(!e||!e.supports)return!1;try{return e.supports("preload")}catch(e){return!1}})(window.document.createElement("link").relList),this.getSlideId=e=>e.displayData?e.displayData.properties.bannersetElementId||e.displayData.properties.id:e.properties.bannersetElementId||e.properties.id,this.getSlideLoaded=function(e){const t=this.getSlideId(e);return!!this.loadedSlides[t]&&this.loadedSlides[t]},this.setSlideLoaded=function(e){const t=this.getSlideId(e);this.loadedSlides[t]=!0},this.resolveIfAssetsLoaded=function(e){const t=0===this.imagesToLoad.length&&0===this.videosToLoad.length&&0===this.audiosToLoad.length;(t&&0===this.fontsToLoad.length&&0===this.gFontsToLoad.length||t&&!0===e)&&(window.loadAssetsTimer&&clearTimeout(window.loadAssetsTimer),this.currentSlide?this.setSlideLoaded(this.currentSlide):this.setAllSlidesLoaded(),"function"==typeof this.callback&&this.callback())},this.preloadMedia=function(t,i,n,s,r="image"){if(!t)throw new Error("No media url");const o=this;let a=t;if(n&&(a+=n),!i.visible)return!1;const l=window.bannerConfig.pdf;if(!window.assetsCache[a]||l){let n=new Image;"video"===r?(n=window.document.createElement("video"),this.videosToLoad.push(n),t=e(t)):"audio"===r?(n=new Audio,this.audiosToLoad.push(n)):this.imagesToLoad.push(n);const d=()=>{"video"===r?o.videosToLoad.pop():"audio"===r?o.audiosToLoad.pop():o.imagesToLoad.pop(),o.resolveIfAssetsLoaded()},c=()=>{l&&!["audio","video"].includes(r)?o.preloadResizedImageForPdf(t,n,i,window.bannerConfig.hqImages,d):d()},p=["audio","video"].includes(r)?"loadedmetadata":"load";n.addEventListener(p,c),n.addEventListener("error",(()=>{d(),n.removeEventListener(p,c),n.imageLoadedWithError=!0,this.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="})),this.bannerConfig.preview&&s&&!i.resourceKey?this.setColorGroups(t,n,s):n.src=t,window.assetsCache[a]=n}},this.preloadElementAssets=function(e){if("layer"===e.type){let t;switch(e.layerType){case"shape":e.properties.backgroundColor&&"image"===e.properties.backgroundColor.type&&(t=m(e.properties.backgroundColor),t&&this.preloadMedia(t,e.properties));break;case"image":this.bannerConfig.hqImages&&e.properties.hqUrl&&e.properties.source!==window.bannerConfig.watermark.source?t=e.properties.hqUrl:e.properties.localUrl?(t=`${void 0!==window.bannerConfig.imgLocalPath?window.bannerConfig.imgLocalPath:"media/"}${e.properties.localUrl}`,window.bannerConfig.embedUrl&&(t=this.bannerConfig.embedUrl+t)):t=e.properties.url&&(e.properties.url.includes("//")||e.properties.url.startsWith("data"))?e.properties.url:this.bannerConfig.photosUrl+e.properties.url,t&&this.preloadMedia(t,e.properties);break;case"svg":t=e.properties.localUrl?`${void 0!==window.bannerConfig.imgLocalPath?window.bannerConfig.imgLocalPath:"media/"}${e.properties.localUrl}`:e.properties.url?e.properties.url.includes("//")?e.properties.url:`${window.bannerConfig.photosUrl}${e.properties.url}`:null,t&&this.preloadMedia(t,e.properties,e.properties.bannersetElementId||e.properties.id,e.properties.colorGroups);break;case"countdown":{const{config:t,visible:i}=e.properties;if(!i)break;if(t){const e=this;t.forEach((({children:t,style:i})=>{i&&i.fontFamily&&(i.fontFamily||(i.fontFamily="Open Sans"),e.addFontToDOM(i)),t&&t.forEach((t=>{const n=t.style;n&&(n.fontFamily?(!n.fontType||n.fontType===e.fontTypes.GOOGLE||n.fontUrl||n.localUrl)&&e.addFontToDOM(n):n.fontWeight&&(n.fontFamily=i.fontFamily,n.fontType=i.fontType,n.fontPrefix=i.fontPrefix||null,e.addFontToDOM(n)))}))}))}else this.addFontToDOM(e.properties);break}case"text":{let{config:t,visible:i}=e.properties;if(!i)break;if(t.type&&"slate"===t.type&&(t=t.nodes),t){const e=this,i=t=>{if(t.fontSettings){const i=t.fontSettings;e.addFontToDOM(i)}t.children&&t.children.forEach((e=>{i(e)}))};t.forEach((({children:t,style:n})=>{n&&n.fontFamily&&(n.fontFamily||(n.fontFamily="Open Sans"),e.addFontToDOM(n)),t&&t.forEach((e=>{i(e)}))}))}else this.addFontToDOM(e.properties);break}case"button":if(!e.properties.visible)break;e.properties.localUrl||this.addFontToDOM(e.properties.labelStyle);break;case"video":case"audio":e.properties.localUrl?(t=`${void 0!==window.bannerConfig.imgLocalPath?window.bannerConfig.imgLocalPath:"media/"}${e.properties.localUrl}`,window.bannerConfig.embedUrl&&(t=window.bannerConfig.embedUrl+t)):t=e.properties.url&&(e.properties.url.includes("//")||e.properties.url.startsWith("data"))?e.properties.url:this.bannerConfig.photosUrl+e.properties.url,t&&this.preloadMedia(t,e.properties,e.properties.bannersetElementId||e.properties.id,null,e.layerType)}}else if("slide"===e.type)for(let t=0;t<e.elements.length;t++)this.preloadElementAssets(e.elements[t])}}assets(e,t,i,n){if(this.bannerConfig=i,this.callback=n,this.currentSlide=t.displayData?t.displayData:t,this.getSlideLoaded(this.currentSlide))this.resolveIfAssetsLoaded();else{let t=[this.currentSlide];if(null!==e){if(e.properties.backgroundColor&&"image"===e.properties.backgroundColor.type){const t=m(e.properties.backgroundColor);t&&this.preloadMedia(t,e.properties)}const i=e.elements.filter((e=>"layer"===e.type));t=t.concat(i)}for(let e=0;e<t.length;e++)this.preloadElementAssets(t[e]);this.loadGFonts(),this.resolveIfAssetsLoaded()}}}const $=e=>{const t=parseFloat(e,10);let i,n=e.match(/m?s/);switch(n&&(n=n[0]),n){case"s":i=1e3*t;break;case"ms":i=t;break;default:i=0}return i},E=e=>{e.id||(e.id="e_"+t.domUniqueId++)},x=e=>Object.keys(e).reduce(((t,i)=>`${t+i.split(/(?=[A-Z])/).join("-").toLowerCase()}:${e[i]};`),""),O="running",A="paused",I={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInStrong:"cubic-bezier(.97,.09,.79,.21)",easeOutStrong:"cubic-bezier(.21,.79,.09,.97)",easeInOutStrong:"cubic-bezier(.78,.03,.24,.99)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},P={},D=e=>!!P[e],L=(e,t)=>{if(P[e])return;let i,n,s=`@keyframes ${e} {`,r=`@-webkit-keyframes ${e} {`;for(let e=0;i=t[e];e++)n=B(i.percent,i.props,i.to),s+=n,r+=n;s+="}",r+="}";const o=s+r,a=document.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=o:a.innerHTML=o,document.getElementsByTagName("head")[0].appendChild(a),P[e]=!0},M=(e,t,i=!0)=>{e.offsetWidth,i&&(e.style.animation=t,e.style.webkitAnimation=t),e.style.animationPlayState=window.BS_PLAYING_STATE||O,e.style.webkitAnimationPlayState=window.BS_PLAYING_STATE||O},B=(e,t,i)=>{let n=(i?"to":e+"%")+" {";const s=Object.keys(t);let r;for(let e=0;r=s[e];e++)n+=`${o=r}:${a=t[r]};-webkit-${o}:${a};`;var o,a;return n+="}",n};var F=class{constructor(e,t){this.delay=t,this.remaining=t,this.callback=e,this.id=0,this.isPlaying=!1,this.resume()}pause(){this.isPlaying&&(window.clearTimeout(this.id),this.remaining-=Date.now()-this.start,this.isPlaying=!1)}resume(){this.isPlaying||this.remaining<0||(this.start=Date.now(),window.clearTimeout(this.id),this.id=window.setTimeout(this.callback,this.remaining),this.isPlaying=!0)}destroy(){window.clearTimeout(this.id),this.callback=null,this.remaining=null,this.start=null,this.isPlaying=!1}},U=Object.defineProperty,z=(e,t,i)=>(((e,t,i)=>{t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i);const R=class e{static pause(){for(const t in e.timers)e.timers.hasOwnProperty(t)&&e.timers[t].pause();e.setAnimationState(A)}static resume(){for(const t in e.timers)e.timers.hasOwnProperty(t)&&e.timers[t].resume();e.setAnimationState(O)}static init(){if(window.enablePauseAnimOnVisibilityChange){let t=function(){document.hidden?(clearTimeout(i),i=setTimeout((()=>{e.pause()}),50)):(clearTimeout(i),i=setTimeout((()=>{e.resume()}),50))},i=null;document.addEventListener("visibilitychange",t,!1)}}static setAnimationState(t){for(const i in e.animations)if(e.animations.hasOwnProperty(i)){const{element:n,delay:s,animation:r,startTime:o}=e.animations[i];if(n.style.animationPlayState=t,n.style.webkitAnimationPlayState=t,t===A){const e=$(s),t=new Date-o;if(e>0&&t<e){const i=e-t+"ms";n.style.animationDelay=i,n.style.webkitAnimationDelay=i}r&&r.indexOf("buildIn")>=0&&e>0&&t<e&&(n.style.display="none")}else n.style.display=""}}};z(R,"timers",{}),z(R,"animations",{}),z(R,"timerIndex",0);let N=R;const _=(e,t)=>{const i=N.timerIndex++;return N.timers[i]=new F(e,t),i},H=e=>{const t=N.timers[e];t&&(delete N.timers[e],t.destroy())},W=(e,t,i)=>{M(e,t,!i),E(e);const n=e.style.animationDelay,s=new Date;t||i?N.animations[e.id]={element:e,delay:n,animation:t,startTime:s}:delete N.animations[e.id]};var j="none",G="instant",V="alpha-words",q="blur-words",X="fadeAudio",Y="shadowPop",Q="blink",J="jello",K="bounce",Z="vibrate",ee="flicker",te="pulsate",ie="shake",ne="video",se="audio",re="gradientAnimation",oe="advanced",ae=class{static clearAll(e){e&&e.firstChild&&W(e.firstChild,""),e.classList.contains("slide")&&e.querySelectorAll(".move, .rotate, .scale, .opacity, .blur").forEach((e=>{e.style.animation&&W(e,"")}))}static clearWordsTimeout(e,t){for(let e=0;e<t.length;e++)W(t[e],"")}static getAnimationDuration(e,t){let i=1e-4;return i=e.type!==oe?Number("buildMid"===t?e.motionTime:e.duration):Number(e.duration),i}static getAnimationIterationCount(e,t){let i=1;return e.type!==oe&&"buildMid"===t&&(i=Math.ceil(e.duration/e.motionTime)),i}static animate(e,t,i,n,s="",r=!1){const o=e,a=t;if("none"===a.type)return void(a.onAnimationEnd&&a.onAnimationEnd());const l=n||0;a.zoom=a.zoom||1;const{variation:d=null}=a;let c="both",p=a.type,h=!0;switch(a.type){case G:case ne:case se:case X:h=!1;break;case V:case q:p="words";break;case Q:case J:case K:case Z:case ee:case re:c="none";break;case te:switch(c="none",d){case"heartbeat":p="pulsateHeartbeat";break;case"backward":case"forward":p="pulsate";break;case"ping":p="pulsatePing"}break;case ie:switch(c="none",d){case"leftRight":case"top":case"left":case"right":p="shakeRotate";break;case"horizontal":case"vertical":p="shakeTranslate"}break;case Y:c="forwards"}const u=window[`BS_${p}`];if(h&&!u&&null!==p)return void console.error(`Error ${p} for build type ${a.type} not found`);if("rotate"===a.type||"flip"===a.type||"slit"===a.type||"step"===a.type||"fly"===a.type||"tilt"===a.type||"swing"===a.type){const e="tilt"===a.type?Math.abs(a.slideOffset):0;let t=`${Math.round(.7*o.offsetWidth+.7*o.offsetHeight)+e}px`;"fly"===a.type&&(t=`${Math.round(10*(o.offsetWidth+o.offsetHeight))}px`),o.style.perspective=t,o.style.webkitPerspective=t}if(o&&u){const e=o.querySelector("div.text");"shadowPop"===a.type?e&&(p=u(a,i,e,l)):p=a.type===oe?u(a,i,o,l,s):u(a,i,o,l,r);const t=this.getAnimationDuration(a,i),n=this.getAnimationIterationCount(a,i),d=`${p} ${t}s ${a.type!==oe?(e=>{if("Linear"===e.tween||"linear"===e.ease)return"linear";let t="ease";switch(e.ease){default:t+="Out";break;case"easeIn":t+="In";break;case"easeInOut":t+="InOut"}return t+=e.tween,I[t]||"linear"})(a):"linear"} ${y=a.delay+l,3,parseFloat(y.toFixed(3))}s ${n} ${c}`;switch(a.type){case"gradientAnimation":let t=o.querySelectorAll('[class="row"]');for(t=[].slice.call(t);t.length;){const e=t.pop();r||e.setAttribute("data-gradient-animation-finished",!1);let i=e.querySelectorAll('[class="word"]');if(i=[].slice.call(i),i.length>0)for(e.style.backgroundImage="none",e.style.backgroundSize="auto",e.style.backgroundClip="border-box",e.style.textFillColor="inherit",e.style.webkitBackgroundClip="border-box",e.style.webkitTextFillColor="inherit",e.style.animationName="";i.length;)i.pop().style.animationName="";W(e,d)}break;case"tracking":case"shadowPop":e&&W(e,d);break;case"advanced":W(o.firstChild,d),r&&(o.firstChild.style.animationPlayState="paused");break;default:W(o.firstChild&&1===o.firstChild.nodeType&&!o.classList.contains("word")?o.firstChild:o,d)}}var y;const f=Number(a.duration)+Number(a.delay)+l;_((()=>{a.onAnimationEnd&&a.onAnimationEnd()}),Math.max(1e3*f,0))}};class le{apply(e){e.on=le.prototype.on,e.off=le.prototype.off,e.trigger=le.prototype.trigger}on(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;let n,s;for(e=e.split(" "),s=0;n=e[s];s++)i[n]=i[n]||[],i[n].includes(t)||i[n].push(t)}off(e,t){if(void 0===this._listeners)return;const i=this._listeners[e];if(void 0!==i){const e=i.indexOf(t);-1!==e&&i.splice(e,1)}}trigger(e,t){if(void 0===this._listeners)return;const i=this._listeners[e];if(void 0!==i){const n={};n.target=this,n.type=e,n.data=t;const s=i.length;for(let e=0;e<s;e++)i[e].call(this,n)}}}var de=le;const ce=function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"clickTag",t=window.location.search.substring(1).split("".concat(e,"="));if(!t[1])return"";let i=t[1].replace(/&.+$/,"");try{i=decodeURIComponent(i)}catch(e){return""}return null==i.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,8}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g)?"":i};var pe=e=>{const t="2x";let i=e.lastIndexOf(".");return e.lastIndexOf("/")>i?e+t:(-1===i&&(i=e.length),[e.slice(0,i),t,e.slice(i)].join(""))};const he={MOVE:"move",ROTATE:"rotate",SCALE:"scale",OPACITY:"opacity",BLUR:"blur"},ue="advanced";var ye="youtube";const fe={},me=e=>{const t=fe[e];t&&(window.clearTimeout(t),delete fe[e])},be=(e,t)=>{fe[e]?window.clearTimeout(t):fe[e]=t};var ge=Object.defineProperty,we=Object.defineProperties,Ce=Object.getOwnPropertyDescriptors,ve=Object.getOwnPropertySymbols,Se=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,Te=(e,t,i)=>t in e?ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,$e=(e,t)=>{for(var i in t||(t={}))Se.call(t,i)&&Te(e,i,t[i]);if(ve)for(var i of ve(t))ke.call(t,i)&&Te(e,i,t[i]);return e},Ee=(e,t)=>we(e,Ce(t));const xe=["rain","fog","snow"];class Oe extends de{constructor(){super(),this.container=null,this.displayContainer=null,this.properties=null,this.displayData=null,this.buildTimeouts=[],this.onLoadSlide=null,this.onPlayMedia=null,this.onPauseMedia=null,this.onStopMedia=null,this.startTime=0,this.elapsedTime=0}init(e){return this.displayData=e,this.displayData.properties=Oe.parseProps(this.displayData.properties),this.trigger("init"),this}static parseProps(e){const t=["buildIn","buildOut","transition"];let i;for(let n=0;i=t[n];n++)if(e[i])switch(e[i].tween){case"Bounce":case"Elastic":"scale"!==e[i].type&&"slide"!==e[i].type||(e[i].type+=e[i].tween,"Elastic"===e[i].tween&&(e[i].ease="easeOut")),e[i].tween=""}return e}render(){}reset(){var e,t;let i,n;for(ae.clearAll(this.container),i=0;n=this.buildTimeouts[i];i++)H(n);if(this.buildTimeouts=[],this.transform("none"),this.webkitTransform("translate3d(0,0,0)"),this.setStyle(this.container,"x,y,width,height","px"),this.container.style.opacity="1",this.container.style.display="",this.container.style.filter="",this.container.style["-webkit-filter"]="",this.container.style.animation="",this.container.style["-webkit-animation"]="",this.container.querySelector("div.text")&&(this.container.querySelector("div.text").style.animation=""),this.properties.blendMode&&(this.container.style.mixBlendMode=this.properties.blendMode),this.properties.outline&&this.properties.outline.useOutline){const{color:e,weight:t}=this.properties.outline;this.container.style["-webkit-text-stroke"]=`${t}px ${e}`}for(i=0;n=this.buildTimeouts[i];i++)H(n);if(this.buildTimeouts=[],null==(t=null==(e=this.displayContainer)?void 0:e.pause)||t.call(e),this.displayContainer){const e=void 0!==this.properties.opacity?this.properties.opacity:100;this.displayContainer.style.opacity=e/100}}createMainContainers(e,t,i,n){let s;this.properties&&this.properties.actions&&this.slide&&this.slide.banner.config.pdf&&(s=this.properties.actions.find((e=>"click"===e.event&&"gotoURL"===e.type&&e.url))),this.container=this.createElement("div",e),this.container.setAttribute("data-id",this.displayData.properties.id),this.effHelper=this.createElement("div","eff-helper"),s&&(this.actionContainer=this.createElement("a","action-container"),this.actionContainer.href=s.url,this.actionContainer.target=s.target||"_blank",this.actionContainer.style.cursor=s.useHandCursor?"":"auto"),this.displayContainer=this.createElement(i||"div",t,void 0,void 0,n),"element"===e&&(this.moveDiv=this.createElement("div",he.MOVE),this.moveDiv.style.width="100%",this.moveDiv.style.height="100%",this.rotateDiv=this.createElement("div",he.ROTATE),this.rotateDiv.style.width="100%",this.rotateDiv.style.height="100%",this.scaleDiv=this.createElement("div",he.SCALE),this.scaleDiv.style.width="100%",this.scaleDiv.style.height="100%",this.opacityDiv=this.createElement("div",he.OPACITY),this.opacityDiv.style.width="100%",this.opacityDiv.style.height="100%",this.blurDiv=this.createElement("div",he.BLUR),this.blurDiv.style.width="100%",this.blurDiv.style.height="100%",this.moveDiv.appendChild(this.rotateDiv),this.rotateDiv.appendChild(this.scaleDiv),this.scaleDiv.appendChild(this.opacityDiv),this.opacityDiv.appendChild(this.blurDiv),this.blurDiv.appendChild(this.displayContainer),this.displayData&&this.displayData.layerType&&(this.container.dataset.layerType=this.displayData.layerType)),this.container.appendChild(this.effHelper),s?(this.effHelper.appendChild(this.actionContainer),"element"===e?this.actionContainer.appendChild(this.moveDiv):this.actionContainer.appendChild(this.displayContainer)):"element"===e?this.effHelper.appendChild(this.moveDiv):this.effHelper.appendChild(this.displayContainer)}applyActions(e,t,i=!1){var n,s;const r=this;if(!e||!t)return!1;if("none"===e.type)return!1;let o="";return((null==e?void 0:e.useHandCursor)||(ce()||window.clickTag)&&(null==(s=null==(n=null==this?void 0:this.displayData)?void 0:n.properties)?void 0:s.useHandCursor))&&(o="pointer"),t.style.cursor=o,t.addEventListener(e.event,(function(t){if(t.clickFlag)return t.clickFlag=!1,!1;if(e.disabled)return!1;if(t.clickFlag=this,"gotoSlide"===e.type){const t=r.slide.getBuildOutTime();t&&(e.disabled=!0,_((()=>{e.disabled=!1}),t)),null===e.slideOrUrl&&(e.slideOrUrl="next");const{currentSlide:i}=r.slide.banner,n=!!e.slideOrUrl;switch(e.slideOrUrl){case"first":r.slide.banner.preload.assets(null,r.slide.getFirstSlide(),r.slide.banner.config),i.buildOut(r.slide.getFirstSlide(),n);break;case"last":r.slide.banner.preload.assets(null,r.slide.getLastSlide(),r.slide.banner.config),i.buildOut(r.slide.getLastSlide(),n);break;case"next":r.slide.banner.preload.assets(null,r.slide.getNextSlide(),r.slide.banner.config),i.buildOut(r.slide.getNextSlide(),n);break;case"prev":r.slide.banner.preload.assets(null,r.slide.getPrevSlide(),r.slide.banner.config),i.buildOut(r.slide.getPrevSlide(),n);break;default:r.slide.banner.preload.assets(null,i.getSlideByHashOrId(e.slideOrUrl),r.slide.banner.config),i.buildOut(i.getSlideByHashOrId(e.slideOrUrl),n)}}else{i&&t.preventDefault();let n=e.slideOrUrl||window.bannerURL,{target:s}=e;const o=String(n).indexOf("bsClickTAG");if(window.bsClickFunc){let t=n,i=null;return(String(n).indexOf("bsClickTAG")>=0||String(n).indexOf("clickTag")>=0)&&(t=window[n],i=n),t&&t.indexOf("bsClickTAG")>=0&&(t=null),window.bsClickFunc(t,e.target,i),!1}if(-1!==o||0===String(n).indexOf("clickTag")){const e=-1!==o?n.substr(o):n;n="function"==typeof window[e]?window[e]():window[e],n||-1===o||(n=ce())}else if(r.hash||!window.bannerConfig.pdf){if(!n&&!1===window.goToURLWithoutBSURL)return!1;const e=ce()||window.clickTag;e&&(n=void 0===window.clickTag&&e!==n&&-1===e.indexOf(n)&&-1===e.indexOf(encodeURIComponent(n))?e+encodeURIComponent(n):e,window.urlTarget&&(s=window.urlTarget))}n=C(n),window.bsOpenURL(n,s)}return!0})),!0}createElement(e,t,i,n,s){const r=s||window.document.createElement(e);return r.setAttribute("class",t),!1!==i&&(n||this.container)&&(n||this.container).appendChild(r),E(r),r}setStyle(e,t,i){i||(i="");const n={x:"left",y:"top",labelOffsetX:"margin-left",labelOffsetY:"margin-top",lineHeight:"line-height"};t=t.split(",");for(const s in t)if(t.hasOwnProperty(s)){const r=n[t[s]]||t[s],o=this.properties[t[s]];if("width"===r||"height"===r){const t=this.properties.scale||1;e.style[r]=o*t+i}else e.style[r]="left"===r||"right"===r?Math.round(o)+i:String(o).indexOf(i)>-1?o:o+i}return this}getContainer(){return this.container}show(){return this.container.style.display="",this}hide(){return this.container.style.display="none",this}hasClass(e,t){return!!e&&new RegExp(`(\\s|^)${t}(\\s|$)`).test(e.className)}showOverlay(){this.effHelper.style.display=""}removeClass(e,t){return this.hasClass(e,t)&&(e.className=e.className.replace(new RegExp(`(\\s|^)${t}(\\s|$)`)," ").replace(/^\s+|\s+$/g,"")),this}addClass(e,t){return e?(this.hasClass(e,t)||(e.className+=(e.className?" ":"")+t),this):this}toggleClass(e,t){return e?(this.hasClass(e,t)?this.removeClass(e,t):this.addClass(e,t),this):this}applyBackground(e,t,i){const n=f(t);for(const s in n)switch(s){case"background-image":if("lgrad"===t.type||"rgrad"===t.type)for(let t=0;t<n[s].length;t++)e.style.backgroundImage=n[s][t];else{if(t.source===window.bannerConfig.watermark.source&&window.bannerConfig.watermark.show){let e;e=window.devicePixelRatio>1?window.bannerConfig.watermark.watermarkX2:window.bannerConfig.watermark.watermarkX1,n[s]=`url(${e}), ${n[s]}`}let i=n[s];if("background-image"===s){let e=window.assetsCache[t.url];e&&e.imageLoadedWithError&&t.backupUrl&&(i=`url(${t.backupUrl})`)}e.style[s]=i}break;case"background":for(let t=0;t<n[s].length;t++)e.style.background=n[s][t];break;case"--retina-src":if(i&&this.properties.retinaReady){if(e.classList.add("retina"),t.source===window.bannerConfig.watermark.source&&window.bannerConfig.watermark.show){let t;t=window.devicePixelRatio>1?window.bannerConfig.watermark.watermarkX2:window.bannerConfig.watermark.watermarkX1,e.style.setProperty(s,`url(${t}, url("${pe(n[s])}")`)}e.style.setProperty(s,`url("${pe(n[s])}")`)}break;default:e.style[s]=n[s]}t&&t.type&&"image"===t.type&&("userCrop"!==t.scaleMode&&function(e,t){if(!e||!t)return c(e,"background"),!1;const i=["background","background-crop","background-stretch","background-mask","background-aspect","background-tile"],n=`${i[0]}-${t.toLowerCase()}`;for(const t in i)p(e,i[t]);c(e,i[0]),c(e,n)}(e,t.scaleMode),function(e,t){let i=!1;const n=m(t);for(const e in t)switch(e){case"scaleMode":case"verticalAlign":case"horizontalAlign":case"contentScale":i=!0}if(i){e.style.backgroundSize="";let{originalWidth:i}=t;if(i)"tile"===t.scaleMode&&(e.style.backgroundSize=i?t.contentScale*i/100+"px":`${t.contentScale}%`,e.style.visibility="visible");else{const s=new Image;s.onload=function(){i!==s.width&&(i=s.width),"userCrop"!==t.scaleMode&&(e.style.backgroundSize=""),"tile"===t.scaleMode&&(e.style.backgroundSize=i?t.contentScale*i/100+"px":`${t.contentScale}%`,e.style.visibility="visible")},s.src=n}t.source===window.bannerConfig.watermark.source&&window.bannerConfig.watermark.show&&b(e.style,t.scaleMode)}}(e,t))}applyBoxShadow(e,t){g(e,y(t))}applyFilters(e,t,i,n){g(e,function(e,t,i){const n={"-webkit-filter":"",filter:""};return e&&h(e.useAdjustColor)&&(n.filter+=`brightness(${(parseInt(e.brightness)+100)/100}) `,n.filter+=`contrast(${(parseInt(e.contrast)+100)/100}) `,n.filter+=`saturate(${(parseInt(e.saturate)+100)/100}) `,n.filter+=`hue-rotate(${e.hue}deg)`),t&&h(t.useBlur)&&(n.filter+=`blur(${t.pixels}px)`),i&&h(i.useShadow)&&(n.filter+=`drop-shadow(${i.hShadow}px ${i.vShadow}px ${i.blur}px ${i.color})`,n["will-change"]="filter"),n["-webkit-filter"]=n.filter,n}(t,i,n))}getFlipString(e){return e?`scale(${"both"===e||"horizontal"===e?"-1":"1"}, ${"both"===e||"vertical"===e?"-1":"1"})`:""}getBRadius(){const{properties:e}=this,t=e.border||{};let i=0;return"rectangle"===e.type&&(void 0!==t.radius?i=t.radius:void 0!==e.bradius&&(i=e.bradius)),i}getBorderString(e){const t=e||this.properties.border||{};return void 0===t.weight||0===t.weight||void 0===t.color?"":`${t.weight}px solid ${t.color}`}getAnimationEl(){return this.container}setBuildMidAnimation(){const e=this,t=this.getAnimationEl(),{properties:i}=this.displayData,{buildIn:n}=i,{buildMid:s}=i;let{buildOut:r}=i;const o=s.type===ue,a=r.type===ue,l=o?s.duration:s.delay+s.duration;function d(){e.isHover=!0,ae.animate(t,s,"buildMid")}function c(){e.isHover=!1}function p(){e.isHover||e.reset()}const h=1!==e.slide.banner.properties.loopCount,u="none"===r.type,y=s.delay,f=s.duration;function m(){r&&!u&&(s.onAnimationEnd=function(){if(!e.advancedBuildOutNoAdvancedActions){const t=a?r.delay:0;_((()=>{e.setBuildOutAnimation()}),1e3*t)}})}if(!e.properties.showOnAllSlides){const t=e.slide.displayData.properties.duration,{stopSlide:i}=e.slide.displayData.properties,o="none"!==n.type?n.delay+n.duration:0,a=s&&"none"!==s.type?s.delay+s.duration:0,l=o+a+r.delay+r.duration;("instant"===r.type&&l>t||r&&!i&&o>t)&&(r=null),h&&s&&"none"!==s.type&&o+a>t&&(s.duration=parseFloat((t-o-s.delay).toFixed(1)))}if("hover"!==s.startEnd){if(o){let i=t;s.onAnimationEnd=function(){let t=a?r.delay:0;_((()=>{!r||u||e.advancedBuildOutNoAdvancedActions||e.setBuildOutAnimation()}),1e3*t)},Object.values(he).map((e=>{i=i.firstChild,s.advancedProperties[e].length&&ae.animate(i,Ee($e({},s),{delay:0}),"buildMid",null,e,!1)}))}else ae.animate(t,s,"buildMid");e.buildTimeouts.push(_((()=>{(!h||f!==s.duration)&&h||o||(s.delay=0,s.duration=0,m(),ae.animate(t,s,"buildMid")),s.delay=y,s.duration=f}),1e3*l))}else e.isHover=!1,r&&!u&&(s.onAnimationEnd=null),_((()=>{s.delay=0,t.addEventListener("mouseenter",d),t.addEventListener("animationiteration",p),t.addEventListener("mouseleave",c),_((()=>{t.removeEventListener("mouseenter",d),t.removeEventListener("animationiteration",p),t.removeEventListener("mouseleave",c),(h&&f===s.duration||!h&&r&&!u)&&(s.delay=0,s.duration=0,m(),ae.animate(t,s,"buildMid")),s.delay=y,s.duration=f}),1e3*s.duration)}),1e3*s.delay)}setBuildOutAnimation(){const e=this.getAnimationEl(),{properties:t}=this.displayData,{buildOut:i}=t,n=this,s=i.type===ue,r=s?0:i.delay,o=s?i.duration:i.duration+i.delay;if(n.buildTimeouts.push(_((()=>{n.trigger("buildOutStart")}),1e3*r)),s){let t=e;Object.values(he).map((e=>{t=t.firstChild,i.advancedProperties[e].length&&ae.animate(t,Ee($e({},i),{delay:0}),"buildOut",null,e,!1)}))}else ae.animate(e,i,"buildOut");n.buildTimeouts.push(_((()=>{n.trigger("buildOutEnd"),e.style.display="none"}),1e3*o))}playWidgetAnimation(e){const t=e.children;if(t)for(let e=0;e<t.length;e++){const i=t[e];i.style&&i.style.animationName&&M(i,null,!1),i.children.length&&this.playWidgetAnimation(i)}}playAnimation(e){const t=this,i=this.getAnimationEl(),{properties:n,layerType:s}=this.displayData,{buildIn:r}=n,{buildMid:o}=n;let{buildOut:a}=n;const l=r.type===ue,d=o&&o.type===ue,c=a.type===ue,p="none"!==r.type?r.delay+r.duration:0,h=o&&"none"!==o.type?o.delay+o.duration:0;let u=e=e||0,y=e,f=!1,m=!1;if(window.bannerConfig.hybridRender&&xe.includes(s)&&this.playWidgetAnimation(t.innerDisplayContainer),!this.properties.showOnAllSlides){this.onLoadSlide&&"function"==typeof this.onLoadSlide&&this.onLoadSlide();const e=this.slide.displayData.properties.duration,{stopSlide:t}=this.slide.displayData.properties,i=p+h+a.delay+a.duration;("instant"===a.type&&i>e||a&&!t&&p>e)&&(a=null)}let b=!0;l&&(r.advancedProperties?Object.keys(r.advancedProperties):[]).forEach((e=>{r.advancedProperties[e].length&&(b=!1)}));let g=!0;d&&(o.advancedProperties?Object.keys(o.advancedProperties):[]).forEach((e=>{o.advancedProperties[e].length&&(g=!1)}));let w=!0;if(c&&(a.advancedProperties?Object.keys(a.advancedProperties):[]).forEach((e=>{a.advancedProperties[e].length&&(w=!1)})),this.advancedBuildInNoAdvancedActions=l&&b,this.advancedBuildMidNoAdvancedActions=d&&g,this.advancedBuildOutNoAdvancedActions=c&&w,d&&(u=o.delay,f=!0,t.advancedBuildInNoAdvancedActions&&(u+=p)),c?(y=a.delay,m=!0,t.advancedBuildInNoAdvancedActions&&(y+=p),t.advancedBuildMidNoAdvancedActions&&(y+=h,"none"===r.type&&(y+=p))):(t.advancedBuildInNoAdvancedActions&&(y+=p),t.advancedBuildMidNoAdvancedActions&&(y+=h,"none"===r.type&&(y+=p))),t.advancedBuildInNoAdvancedActions&&r.delay>0&&("instant"===r.type?(i.style.display="none",this.buildTimeouts.push(_((()=>{i.style.display=""}),1e3*(r.delay+e)))):(i.style.opacity="0",this.buildTimeouts.push(_((()=>{i.style.opacity="1"}),1e3*(r.delay+e))))),r&&"none"!==r.type&&!t.advancedBuildInNoAdvancedActions){if(0===r.alphaOffset&&(i.style.pointerEvents="none"),r.delay>0&&("instant"===r.type?(i.style.display="none",this.buildTimeouts.push(_((()=>{i.style.display=""}),1e3*(r.delay+e)))):(i.style.opacity="0",this.buildTimeouts.push(_((()=>{i.style.opacity="1"}),1e3*(r.delay+e))))),this.buildTimeouts.push(_((()=>{i.style.pointerEvents="auto",t.trigger("buildInStart")}),1e3*r.delay)),r.onAnimationEnd=()=>{o&&"none"!==o.type&&!t.advancedBuildMidNoAdvancedActions?_((()=>{t.setBuildMidAnimation()}),1e3*(d?u:0)):a&&"none"!==a.type&&!t.advancedBuildOutNoAdvancedActions&&_((()=>{t.setBuildOutAnimation()}),1e3*(c||t.advancedBuildMidNoAdvancedActions?y:0))},l){if(!b){let t=i;Object.values(he).map((i=>{t=t.firstChild,r.advancedProperties[i].length&&(t.style.opacity="",ae.animate(t,r,"buildIn",e,i))}))}}else ae.animate(i,r,"buildIn",e);this.buildTimeouts.push(_((()=>{t.trigger("buildInEnd")}),1e3*(r.duration+r.delay+e)))}else o&&"none"!==o.type&&!t.advancedBuildMidNoAdvancedActions?(f&&(u+=e),!d&&l&&t.advancedBuildInNoAdvancedActions&&(u+=p),_((()=>{t.setBuildMidAnimation()}),1e3*u)):a&&"none"!==a.type&&!t.advancedBuildOutNoAdvancedActions&&(m&&(y+=e),_((()=>{t.setBuildOutAnimation()}),1e3*y))}transform(e,t){t||(t=this.container),t.style["-webkit-transform"]=e,t.style["-o-transform"]=e,t.style["-ms-transform"]=e,t.style["-moz-transform"]=e,t.style.transform=e}webkitTransform(e,t){t||(t=this.container),t.style["-webkit-transform"]=e}createActionProperties(e){const t=this.properties&&this.properties.actions&&this.properties.actions.filter((e=>!e.originalUrl)),i=e||t[0];if(!i)return!1;let n="";return"gotoURL"===i.type&&(n=i.url),{event:i.event,slideOrUrl:"gotoSlide"===i.type?i.slide:n,type:i.type,target:i.target,useHandCursor:i.useHandCursor}}applyExtraPropertiesForGradients(e){if(!this.properties.backgroundColor||"string"==typeof this.properties.backgroundColor)return;const t=this.properties.backgroundColor.type,i=this.properties.border?this.properties.border.weight:0;if("lgrad"===t||"rgrad"===t){const t=`-${i}px`,n=`calc(100% + ${2*i}px)`;g(e,{backgroundPosition:`${t} ${t}`,backgroundSize:`${n} ${n}`})}}getCropBackgroundPosition(e){const t=e.cropData.x,i=e.cropData.y,n=e.width,s=e.height,r=e.border?e.border.weight:0;let o=t-r,a=i-r;return"horizontal"!==e.flip&&"both"!==e.flip||(o=n-(t+e.cropData.width)-r),"vertical"!==e.flip&&"both"!==e.flip||(a=s-(i+e.cropData.height)-r),{x:o,y:a}}calcCurrentTime(){if(this.startTime){const e=((new Date).getTime()-this.startTime)/1e3;return this.elapsedTime+e}return this.elapsedTime}playMediaEvent(e,t,i){const{buildIn:n,buildOut:s,buildMid:{duration:r}}=i,o=n.duration+s.duration+r;this.startTime=(new Date).getTime();const a=this.calcCurrentTime(),l=t.displayData&&t.displayData.layerType===ye,d=i.buildIn.delay-a-t.currentTime;l?t.mediaState="play":t.dataset.mediaState="play",a-i.buildIn.delay<o&&(d>0?(this.playMediaTimeout&&clearTimeout(this.playMediaTimeout),this.playMediaTimeout=setTimeout((()=>{l?t.player&&t.player.playVideo&&t.player.playVideo():t.play()}),1e3*d)):l?t.player&&t.player.playVideo&&t.player.playVideo():t.play())}pauseMediaEvent(e,t){if(this.startTime){const e=(new Date).getTime();this.elapsedTime+=(e-this.startTime)/1e3,this.startTime=0}const i=t.displayData&&t.displayData.layerType===ye;this.playMediaTimeout&&clearTimeout(this.playMediaTimeout),me(e),i?(t.mediaState="pause",t.player&&t.player.pauseVideo&&t.player.pauseVideo()):(t.dataset.mediaState="pause",t.pause())}stopMediaEvent(e,t,i){this.startTime=0,this.elapsedTime=0;const n=t.displayData&&t.displayData.layerType===ye;this.playMediaTimeout&&clearTimeout(this.playMediaTimeout),me(e),n?(t.mediaState="stop",t.player&&t.player.stopVideo&&t.player.stopVideo()):(t.dataset.mediaState="stop",t.pause(),t.currentTime=i.startTime||0)}detachMediaEvents(){this.onPlayMedia&&(window.embedCanvas.off("playMedia",this.onPlayMedia),this.onPlayMedia=null),this.onPauseMedia&&(window.embedCanvas.off("pauseMedia",this.onPauseMedia),this.onPauseMedia=null),this.onStopMedia&&(window.embedCanvas.off("stopMedia",this.onStopMedia),this.onStopMedia=null),this.playMediaTimeout&&clearTimeout(this.playMediaTimeout)}attachMediaEvents(e,t,i){var n;if(window.embedCanvas){if(this.onPlayMedia||this.onPauseMedia||this.onStopMedia)return;t.preload="auto",this.onPlayMedia=()=>this.playMediaEvent(e,t,i),this.onPauseMedia=()=>this.pauseMediaEvent(e,t),this.onStopMedia=()=>this.stopMediaEvent(e,t,i),window.embedCanvas.on("playMedia",this.onPlayMedia),window.embedCanvas.on("pauseMedia",this.onPauseMedia),window.embedCanvas.on("stopMedia",this.onStopMedia),(null==(n=null==t?void 0:t.dataset)?void 0:n.mediaState)||(null==t?void 0:t.mediaState)||(this.startTime=(new Date).getTime())}}}var Ae=Oe,Ie="instant",Pe="fadeAudio",De=Object.defineProperty,Le=(e,t,i)=>(((e,t,i)=>{t in e?De(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i),i),Me=class extends Ae{constructor(){super(...arguments),Le(this,"playWithDelayRegistered",!1),Le(this,"shouldBePlaying",!1),Le(this,"fadeOutInterval",null),Le(this,"fadeInInterval",null)}playWithDelay(e){const{properties:t,displayContainer:i}=e,{buildIn:n}=t;return window.bannerConfig.hybridRender&&e.slide.banner.noAnimation||n.delay>=e.slide.displayData.properties.duration||"pause"===i.dataset.mediaState||"stop"===i.dataset.mediaState?null:setTimeout((()=>{"pause"!==i.dataset.mediaState&&"stop"!==i.dataset.mediaState&&(this.shouldBePlaying=!0,requestAnimationFrame((()=>{i.play().catch((e=>{}))})))}),n.delay?1e3*n.delay:0)}init(e){this.displayData=e,this.properties=e.properties;const{properties:t}=this,i=t.bannersetElementId||t.id;me(i);const{bannerConfig:n}=window;let s;this.audioReset=!1,this.properties.localUrl?(s=`${void 0!==n.imgLocalPath?n.imgLocalPath:"media/"}${this.properties.localUrl}`,n.embedUrl&&(s=n.embedUrl+s)):s=t.url&&-1!==t.url.indexOf("//")?t.url:n.photosUrl+t.url;const r=s+i,o=window.assetsCache[r];this.createMainContainers("element","bs-audio","audio",o),this.transformContainer=this.createElement("div","transform-container");const a=this.displayContainer;window.bannerConfig.hybridRender||(a.muted=!0,document.addEventListener("click",(()=>{a.muted&&(a.muted=!1,this.shouldBePlaying&&a.play().catch((()=>{})))}))),a.parentNode.appendChild(this.transformContainer),this.transformContainer.appendChild(a),a.currentTime=t.startTime;let l=t.volume/100;(l<0||l>1)&&(console.warn(`Volume value of ${l} is not in [0, 1] range. Setting it to 0.`),l=0);const{startTime:d,buildIn:c,buildOut:p,buildMid:{duration:h},soundOnHover:u,secondsBeforeSlide:y}=t,f=this.getLayerDuration(),{banner:{startSlide:m},isOverflowSlide:b}=this.slide;let g=0;if(m&&b&&y){if(a.currentTime=d-y,c.type===Pe){const e=Math.abs(y)/c.duration;e<1&&(g=l*e)}if(c.type===Ie&&(l=t.volume/100),p.type===Pe){const e=c.duration+h+y;if(e<0){const t=1-Math.abs(e)/p.duration;t>0&&(l*=t)}}}this.onAudioTimeUpdate&&a.removeEventListener("timeupdate",this.onAudioTimeUpdate),this.onAudioTimeUpdate=(()=>{a.currentTime-d>=f&&!a.paused&&(a.pause(),this.shouldBePlaying=!1)}).bind(this),a.addEventListener("timeupdate",this.onAudioTimeUpdate);const w=1!==this.slide.banner.properties.loopCount;return w||(this.playWithDelayRegistered=!0,this.on("slideBuildInEnd",(()=>{be(i,this.playWithDelay(this))}))),a.volume=l,u&&(a.volume=0,a.dataset.soundOnHover="true",a.dataset.volume=l.toString()),this.initFadeEffects(),this.sourceContainer=this.createElement("source",""),this.sourceContainer.type=`audio/${t.format}`,this.sourceContainer.src=s,a.appendChild(this.sourceContainer),this.reset(),this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(a,this),this.on("slideBuildOutEnd buildOutEnd",(()=>{a.pause(),this.shouldBePlaying=!1,me(i),w&&(a.currentTime=t.startTime)})),!w&&!this.audioReset||this.playWithDelayRegistered||this.on("slideBuildInEnd",(()=>{be(i,this.playWithDelay(this))})),u||this.attachMediaEvents(i,a,t),this.applyActions(this.createActionProperties(),this.displayContainer),Ae.prototype.init.call(this,e)}reset(){var e,t,i,n;super.reset(this);const s=this.displayContainer,r=(null==(e=this.properties)?void 0:e.bannersetElementId)||(null==(t=this.properties)?void 0:t.id);(null==(i=null==s?void 0:s.dataset)?void 0:i.mediaState)&&delete s.dataset.mediaState,me(r),this.onAudioTimeUpdate&&(s.removeEventListener("timeupdate",this.onAudioTimeUpdate),this.onAudioTimeUpdate=null),s.currentTime=(null==(n=this.properties)?void 0:n.startTime)||0,s.pause(),this.shouldBePlaying=!1,this.audioReset=!0,this.initFadeEffects(),be(r,this.playWithDelay(this))}initFadeEffects(){const{buildIn:e,buildOut:t}=this.properties;t.type===Pe&&this.getFadeEffect(t.duration,"buildOut"),e.type!==Pe&&e.type!==Ie||setTimeout((()=>{this.getFadeEffect(e.type===Ie?0:e.duration,"buildIn")}),e.delay?1e3*e.delay:0)}getFadeEffect(e,t){const i=this.displayContainer,{startTime:n,volume:s,fadeInStart:r}=this.properties,o=this.getLayerDuration()-e,a=s/e/5/100;"buildOut"===t?(this.fadeOutInterval&&clearInterval(this.fadeOutInterval),this.fadeOutInterval=setInterval((()=>{0===e?i.volume=0:i.currentTime-n>=o&&i.volume>=a&&(i.volume-=a),i.volume=Math.max(i.volume,0)}),200)):(i.volume=r||0,this.fadeInInterval&&clearInterval(this.fadeInInterval),this.fadeInInterval=setInterval((()=>{i.currentTime-n>=o||(0===e?i.volume=s/100:i.currentTime-n<e&&i.volume+a<=s/100?i.volume+=a:i.volume+a>=s/100&&i.currentTime-n<e&&(i.volume=s/100),i.volume=Math.min(i.volume,s/100))}),200))}getLayerDuration(){const{buildIn:e,buildOut:t,buildMid:{duration:i}}=this.properties;return e.duration+t.duration+i}},Be=e=>{if(!e)return{};const t=`url("data:image/svg+xml;charset=UTF-8,${encodeURIComponent(e)}")`;return{maskImage:t,WebkitMaskImage:t,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"100% 100%",WebkitMaskSize:"100% 100%",maskOrigin:"content-box",WebkitMaskOrigin:"content-box",backdropFilter:"opacity(1)"}},Fe=Object.defineProperty,Ue=class extends Ae{constructor(){super(...arguments),((e,t,i)=>{((e,t,i)=>{t in e?Fe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(e,"symbol"!=typeof t?t+"":t,i)})(this,"loopCount",0)}init(t){this.displayData=t;const i=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;this.videoReseted=!1,this.properties=t.properties;const n=this.properties.bannersetElementId||this.properties.id;me(n);const{properties:s}=this,{bannerConfig:r}=window;let o;s.localUrl?(o=`${void 0!==r.imgLocalPath?r.imgLocalPath:"media/"}${this.properties.localUrl}`,r.embedUrl&&(o=r.embedUrl+o),o=e(o)):o=s.url&&-1!==s.url.indexOf("//")?s.url:r.photosUrl+s.url;const a=o+s.bannersetElementId||s.id,l=window.assetsCache[a];this.createMainContainers("element",`bs-video video-${s.scaleMode}`,"video",l),this.transformContainer=this.createElement("div","transform-container");const d=this.displayContainer;d.parentNode.appendChild(this.transformContainer),s.maskImage?(this.maskContainer=this.createElement("div"),this.maskContainer.appendChild(this.displayContainer),this.transformContainer.appendChild(this.maskContainer)):this.transformContainer.appendChild(d),d.width=s.width,d.height=s.height,d.controls=s.controls,d.loop=s.loop,d.disablePictureInPicture=!0,d.controlsList="nodownload",d.currentTime=s.startTime,i&&(d.muted=!0,d.playsInline=!0,d.controls=!1),null===s.url&&null===s.localUrl&&(d.dataset.invalid=!0);let c=s.volume/100;(c<0||c>1)&&(console.warn(`Volume value of ${c} is not in [0, 1] range. Setting it to 0.`),c=0);const{banner:{startSlide:p},isOverflowSlide:h}=this.slide,{startTime:u,endTime:y,buildIn:f,buildOut:m,buildMid:{duration:b},secondsBeforeSlide:w}=s,C=y-u,v=!!p&&h&&!!w,S=f.duration+m.duration+b;v&&(d.currentTime=s.startTime-w%C),0===c&&d.setAttribute("muted",!0);let k=!1;const T=e=>window.bannerConfig.hybridRender&&e.slide.banner.noAnimation||f.delay>=e.slide.displayData.properties.duration||"pause"===d.dataset.mediaState||"stop"===d.dataset.mediaState?null:setTimeout((()=>{if("pause"!==d.dataset.mediaState&&"stop"!==d.dataset.mediaState)try{d.play().catch((()=>{}))}catch(e){}}),f.delay?1e3*f.delay:0),$="enabled"===s.autoplay,E=r.hybridRender||!r.video&&!r.printScreen&&$,x=1!==this.slide.banner.properties.loopCount;let O,A;switch(E?(this.onVideoTimeUpdate&&(d.removeEventListener("timeupdate",this.onVideoTimeUpdate),this.onVideoTimeUpdate=null),this.onVideoTimeUpdate=(()=>{this.loopCount*C+d.currentTime-u<S?d.currentTime>=y&&(this.loopCount+=1,d.currentTime=u):d.paused||(d.pause(),d.removeEventListener("timeupdate",this.onVideoTimeUpdate),this.onVideoTimeUpdate=null)}).bind(this),d.addEventListener("timeupdate",this.onVideoTimeUpdate),x||(k=!0,this.on("slideBuildInEnd",(()=>{be(n,T(this))})))):!r.hybridRender&&r.printScreen&&d.classList.add("hide-media-controls"),d.volume=c,s.soundOnHover&&(d.volume=0,d.dataset.soundOnHover="true",d.dataset.volume=c.toString()),this.sourceContainer=this.createElement("source",""),this.sourceContainer.type=`video/${s.format||"mp4"}`,this.sourceContainer.src=o,d.appendChild(this.sourceContainer),this.applyFilters(d,s.adjustColor,s.blur,s.dropShadow),s.verticalAlign){case"top":O="0";break;case"middle":O="50%";break;case"bottom":O="100%"}switch(s.horizontalAlign){case"left":A="0";break;case"center":A="50%";break;case"right":A="100%"}d.style.objectPosition=`${A} ${O}`,d.style.oObjectPosition=`${A} ${O}`,d.style.objectFit="cover";const I=this.getFlipString(s.flip);if("userCrop"===s.scaleMode&&s.cropData){const e=s.cropData.width,t=s.cropData.height,i=this.getCropBackgroundPosition(s);d.style.width=`${e}px`,d.style.height=`${t}px`,d.style.transform=`translate(${i.x}px, ${i.y}px)`}else s.maskImage&&(d.style.width="100%",d.style.height="100%");return this.transformContainer.style.height="100%",this.transformContainer.style.width="100%",this.transformContainer.style.overflow="hidden",this.transform(`translateZ(0) rotate(${s.rotation}deg) ${I}`,this.transformContainer),this.reset(),s.maskImage&&(this.transformContainer.style.opacity=this.displayContainer.style.opacity,this.displayContainer.style.removeProperty("opacity"),window.bannerConfig.pdf&&(this.maskContainer.style.border="1px solid transparent"),this.maskContainer.style.width="100%",this.maskContainer.style.height="100%",g(this.maskContainer,Be(s.maskImage))),this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(d,this),this.on("slideBuildOutEnd buildOutEnd",(()=>{d.pause(),me(n),x&&(d.currentTime=s.startTime)})),E&&(x||this.videoReseted)&&!k&&this.on("slideBuildInEnd",(()=>{be(n,T(this))})),this.attachMediaEvents(n,d,s),this.applyActions(this.createActionProperties(),this.displayContainer),Ae.prototype.init.call(this,t)}reset(){var e;const t=this.displayContainer;super.reset(this),me(this.properties.bannersetElementId||this.properties.id),this.onVideoTimeUpdate&&(t.removeEventListener("timeupdate",this.onVideoTimeUpdate),this.onVideoTimeUpdate=null),(null==(e=null==t?void 0:t.dataset)?void 0:e.mediaState)&&delete t.dataset.mediaState,this.loopCount=0,this.videoReseted=!0,null==t||t.pause()}},ze=Object.defineProperty;const Re=class e extends Ae{constructor(){super(),this.banner=null,this.rendered=!1,this._buildOutTimeout=null,this.container=null,this.elements=[],this.LOOP_COUNT_FOREVER=0}remove(){this.displayContainer.innerHTML="";const e=this.container.getElementsByClassName("slide-hover");e.length>0&&this.container.removeChild(e[0])}init(t,i){if(this.displayData=t,this.isOverflowSlide)e.overflowSlide=this,this.container=i,this.displayContainer=i,this.resetElements();else{this.createMainContainers("slide","slide-inner"),i.appendChild(this.container);const{properties:e}=t;this.ah=t.ah,!this.ah&&e&&(this.ah=e.bannersetElementId||e.id),e.duration=parseFloat(e.duration),e.duration<.1&&(e.duration=.1),e.transition=e.transition||{type:"none",delay:0,duration:.1};const{transition:n}=e;this.parseTransition(n),this.applyBackground(this.displayContainer,e.backgroundColor),this.reset()}this.banner.statsPresent&&this.banner.stats.trackEvent(this.container,this);const n=t.elements.some((e=>null!==e.properties.blendMode&&"normal"!==e.properties.blendMode));return this.hasClass(this.container,"slide")&&n&&this.container.firstChild.addEventListener("animationend",(()=>{""!==this.container.firstChild.style.animation&&(this.container.firstChild.style.animation=""),this.container.style.perspective="none",this.container.style.webkitPerspective="none"})),super.init(t)}parseTransition(e){switch(e.duration=parseFloat(e.duration)||0,e.delay=parseFloat(e.delay)||0,e.type){case"slide":case"slideBounce":case"slideElastic":if(!parseInt(e.slideOffset))switch(e.direction){case"r2l":case"l2r":e.slideOffset=this.banner.getWidth();break;case"t2b":case"b2t":e.slideOffset=this.banner.getHeight()}break;case"flip":"cross"===e.crosstype&&(e.deg=180)}}isFirstSlide(){return 0===this.banner.slides.indexOf(this)}isLastSlide(){return this.banner.slides.indexOf(this)===this.banner.slides.length-1}reset(){ae.clearAll(this.container);const e=this.displayContainer.style;e.zIndex=0,e.width="100%",e.height="100%",e.top="0",e.left="0",e.filter="",e["-webkit-filter"]="",e.animation="",e["-webkit-animation"]="",this.transform("none"),this.resetElements()}resetElements(){for(let e=0;e<this.elements.length;e++)this.elements[e].reset()}play(t,i){this.banner.lastSlide=this.banner.currentSlide,this.banner.currentSlide=this,i||this.banner.trigger("changeSlide",this.isFirstSlide()),this.rendered?this.reset():(this.banner.preload.assets(null,this.getNextSlide(),this.banner.config),this.render()),e.overflowSlide&&e.overflowSlide!==this&&e.overflowSlide.resetVisibility(),this.isFirstSlide()&&this.resetMediaOverlayElements(),this.container.style.opacity=1,this.playSlideAnimation(t)}render(){let e,t;if(this.displayData.elements.forEach((t=>{var i,n;const{properties:{visible:s=!0,hiddenOnSlides:r=[]}={}}=t;s&&!r.includes(null==(n=null==(i=this.banner.currentSlide)?void 0:i.properties)?void 0:n.id)&&(e=this.renderElement(t),e&&(this.elements=this.elements.filter((t=>(t.properties.bannersetElementId||t.properties.id)!==(e.properties.bannersetElementId||e.properties.id))),this.elements.push(e)))})),this.onBuildInOutCb&&this.off("buildInStart buildInEnd buildOutStart buildOutEnd",this.onBuildInOutCb),this.onBuildInOutCb=(e=>{for(let t=0;t<this.elements.length;t++){const i=`slide${e.type.charAt(0).toUpperCase()}${e.type.substr(1)}`;this.elements[t].trigger(i,this),this.banner.noAnimation||"normal"===this.elements[t].properties.blendMode||("buildInStart"!==e.type&&"buildOutStart"!==e.type||(this.elements[t].container.style.mixBlendMode="normal"),"buildInEnd"!==e.type&&"buildOutEnd"!==e.type||(this.elements[t].container.style.mixBlendMode=this.elements[t].properties.blendMode))}}).bind(this),this.on("buildInStart buildInEnd buildOutStart buildOutEnd",this.onBuildInOutCb),this.isOverflowSlide){if(!this.banner.noAnimation)for(t=0;t<this.elements.length;t++)this.elements[t].playAnimation(0);this.trigger("buildInStart"),this.trigger("buildInEnd")}else this.createElement("div","slide-hover",!0,this.container);this.rendered=!0}getDurationToStartSlide(){const e=this;return this.banner.slides.reduce(((t,i,n)=>{let s;const{transition:r}=i.displayData.properties;return n<e.banner.startSlide?(s="none"!==r.type?r.duration:0,t+i.displayData.properties.duration+s):t}),0)}renderElement(e){let t;const i=e.properties;i.buildIn=i.buildIn||{type:"none",delay:0,duration:0},i.buildOut=i.buildOut||{type:"none",delay:0,duration:0};const{buildIn:n,buildOut:s}=i;function r(e){e.duration=parseFloat(e.duration)||0,e.delay=parseFloat(e.delay)||0}if(r(n),r(s),this.isOverflowSlide){const t=this.getDurationToStartSlide(),r=n.delay-t;r<0&&["audio","video"].includes(e.layerType)&&(i.secondsBeforeSlide=r),n.duration+r<0?(n.type="none",s.delay-=t-n.duration-n.delay):n.delay=r}const o=`${e.layerType.charAt(0).toUpperCase()+e.layerType.substr(1)}Display`;let a=window[`BS_${o}`];if(["SvgDisplay"].includes(o)&&i.svgObject&&(a=window.BS_ClipartDisplay),!a)return console.error(`Error ${o} not found`),null;const{printScreen:l,video:d,hybridRender:c}=window.bannerConfig;if(t=["ImageDisplay","ShapeDisplay","EmbedDisplay"].includes(o)?new a(this.banner.properties.retina):"audio"!==e.layerType||!l&&!d||c?new a:null,t){t.slide=this;const i=t.init(e).getContainer();this.displayContainer.appendChild(i),t.render(),this.isOverflowSlide&&(t.container.style.zIndex=10,t.container.style.webkitTransform="translate3d(0, 0, 0)")}return t}getNextSlide(e){e||(e=this.banner.currentSlide);const{slides:t}=this.banner,i=t.indexOf(e);return i+1>=t.length?this.banner.slides[0]:this.banner.slides[i+1]}getPrevSlide(e){e||(e=this.banner.currentSlide);const{slides:t}=this.banner,i=t.indexOf(e);return i-1<0?this.banner.slides[this.banner.slides.length-1]:this.banner.slides[i-1]}getFirstSlide(){return this.banner.slides[0]}getLastSlide(){return this.banner.slides[this.banner.slides.length-1]}playSlideAnimation(e){H(this._buildOutTimeout);const t=this.getAnimationEl();let i;const n=this,{properties:s}=this.displayData,{transition:r}=this.displayData.properties,o=this.banner.lastSlide?this.banner.lastSlide.container:null,{loopCount:a}=(this.banner.slides.length,this.banner.properties),{showOnlyOneSlide:l}=this.banner;let d,c=0;for(i=0;i<this.banner.slides.length;i++)d=this.banner.slides[i].container,d.style.zIndex=0,d.style.display="none";this.container.style.display="",this.banner.lastSlide&&this.banner.lastSlide.displayData.properties.transition&&"show"===this.banner.lastSlide.displayData.properties.transition.crosstype?this.container.style.zIndex="3":this.container.style.zIndex="auto",this.trigger("buildInStart"),e&&"none"!==e.type&&!this.banner.noAnimation?(this.addClass(this.container,"buildin"),c=parseFloat(e.duration)||0,o&&(o.style.display=""),"hide"!==e.crosstype?ae.animate(t,e,"buildIn"):o&&(o.style.zIndex="2"),_((()=>{n.removeClass(n.container,"buildin"),n.trigger("buildInEnd")}),1e3*e.duration)):this.banner.noAnimation||this.trigger("buildInEnd");const p=!a||a===this.LOOP_COUNT_FOREVER,h=this.banner.loopsPlayed>=this.banner.properties.loopCount;if(!this.isLastSlide()||h||p||(this.banner.loopsPlayed+=1),s.stopSlide||l||!p&&h&&this.isLastSlide()||void 0===s.duration||null===s.duration||(this._buildOutTimeout=_((()=>{n.buildOut()}),1e3*(c+s.duration))),!this.banner.noAnimation)for(i=0;i<this.elements.length;i++)this.elements[i].playAnimation(c)}buildOut(e,t=!1){this._buildOutTimeout&&H(this._buildOutTimeout);const i=this.banner.slides.length,{transition:n}=this.displayData.properties,s=this,r=s.banner.currentSlide.displayData.properties.stopSlide;s.trigger("buildOutStart");let o=null;if(n&&"none"!==n.type&&i>1){if(s.addClass(s.container,"buildout"),"show"!==n.crosstype){const e=w(n);ae.animate(this.getAnimationEl(),e,"buildOut")}o=_((()=>{s.banner.currentSlide!==s&&(s.container.style.display="none"),s.removeClass(s.container,"buildout"),s.trigger("buildOutEnd")}),1e3*n.duration)}else s.trigger("buildOutEnd");e||(e=this.getNextSlide()),e===this&&o&&(H(o),s.removeClass(s.container,"buildout"),s.trigger("buildOutEnd")),!n||r&&!t||e.play(w(n))}getBuildOutTime(){const{transition:e}=this.displayData.properties;return e&&"none"!==e.type?1e3*e.duration:0}getSlideByHashOrId(e){if(!e)return!1;const{slides:t}=this.banner;for(let i=0;i<t.length;i++){const{properties:n}=t[i].displayData;if(e===t[i].ah||n&&(e===n.bannersetElementId||e===n.id))return t[i]}return!1}resetVisibility(){for(let e=0;e<this.elements.length;e++)this.elements[e].properties.hiddenOnSlides&&this.elements[e].properties.hiddenOnSlides.includes(this.banner.currentSlide.displayData.properties.bannersetElementId||this.banner.currentSlide.displayData.properties.id)?this.elements[e].container.style.display="none":this.elements[e].properties.showOnAllSlides||(this.elements[e].container.style.display="")}resetMediaOverlayElements(){var e,t;null==(t=null==(e=this.banner)?void 0:e.overflowSlide)||t.elements.forEach((e=>{(e instanceof Me||e instanceof Ue)&&(e.reset(),this.banner.noAnimation||e.playAnimation(0))}))}};var Ne;((e,t,i)=>{t in e?ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(Re,"symbol"!=typeof(Ne="overflowSlide")?Ne+"":Ne,undefined);var _e=Re,He=class extends Ae{constructor(){super(),this.startSlide=0,this.overflowSlide=null,this.currentSlide=null,this.lastSlide=null}init(e,t,i,n){const s=this;this.displayData=e,this.container=t,this.displayContainer=this.createElement("div","bs-helper"),this.displayContainer.setAttribute("style","z-index: -1;"),this.container.appendChild(this.displayContainer),this.properties=e.properties,this.resources=e.resources,this.config=i,this.startSlide=parseInt(i.startSlide)||0,this.noAnimation=Boolean(i.noAnimation)||!1,this.showOnlyOneSlide=Boolean(i.showOnlyOneSlide)||!1,this.preload=n,this.setStyle(this.container,"width,height","px"),this.setStyle(this.displayContainer,"width,height","px");const r=this.properties.backgroundColor||{};if((this.properties.width<2||this.properties.height<2)&&(r.useBorder=!1),r.useBorder&&(this.displayContainer.style.left="-1px",this.displayContainer.style.top="-1px",this.displayContainer.style.position="absolute"),this.applyBackground(this.container,r,this.properties.retina),this.applyActions(this.createActionProperties(),this.container),Ae.prototype.init.call(this,e),this.initSlides(e.elements),this.container.addEventListener("click",(e=>{s.statsPresent&&s.stats.launch(e)})),!1!==i.resize){let e=v(this.properties.width,this.properties.height);this.properties.transform=`scale(${e.proportion})`,this.properties.transformOrigin="0 0 0",this.setStyle(this.container,"transform,transformOrigin"),window.addEventListener("resize",(()=>{e=v(s.properties.width,s.properties.height),s.container.style.transform=`scale(${e.proportion})`}))}}initSlides(e){let t,i;this.slides=[];const n=[],s={properties:{},elements:[]};for(t=0;i=e[t];t++)"slide"===i.type?n.push(i):(i.properties&&(i.properties.showOnAllSlides=!0),s.elements.push(i));let r,o;for(this.overflowSlide=new _e,this.overflowSlide.isOverflowSlide=!0,this.overflowSlide.banner=this,this.overflowSlide.init(s,this.displayContainer),t=0;o=n[t];t++)r=new _e,r.banner=this,r.slideIndex=t,r.init(o,this.displayContainer),this.slides.push(r)}getWidth(){return this.properties.width}getHeight(){return this.properties.height}play(){this.overflowSlide.play(null,!0),this.loopsPlayed=1,this.slides[this.startSlide]&&this.slides[this.startSlide].play(null,!0)}createActionProperties(){const e={event:"click",slideOrUrl:"",type:"gotoURL",target:"_blank",useHandCursor:!0};let t=ce();if(!this.config.isCustomEmbed&&(!t&&this.properties.useAsClickTag&&(t=window.clickTag||window.clickTAG||this.config&&this.config.clickTag),t))return e.slideOrUrl=C(t),e;const{properties:i}=this;return i&&(e.target=i.urlTarget,e.useHandCursor=i.useHandCursor||!!t||!!i.bannerUrl),!!i&&!!i.bannerUrl&&(e.slideOrUrl=i.bannerUrl,e)}},We=Object.defineProperty,je=Object.defineProperties,Ge=Object.getOwnPropertyDescriptors,Ve=Object.getOwnPropertySymbols,qe=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,Ye=(e,t,i)=>t in e?We(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Qe=(e,t)=>{for(var i in t||(t={}))qe.call(t,i)&&Ye(e,i,t[i]);if(Ve)for(var i of Ve(t))Xe.call(t,i)&&Ye(e,i,t[i]);return e},Je=(e,t)=>je(e,Ge(t)),Ke=class extends de{constructor(){super(),N.init();const e=this;this.banner=new He,this.initBanner=()=>{e.inited||(e.banner.init(e.json.banner,e.bannerContainer,e.config,e.preload),(!e.config.video&&!e.config.pdf||e.config.autoPlay||void 0===e.config.autoPlay)&&e.banner.play(),["mouseover","mouseout"].forEach((t=>{e.bannerContainer.addEventListener(t,(()=>{document.querySelectorAll("video, audio").forEach((e=>{!function(e,t){const i="mouseover"===e&&function(e){let t=e.parentNode;for(;!t.classList.contains("element");)t=t.parentNode;return"none"!==t.style.display}(t);if(t.dataset.soundOnHover===(!0).toString())try{t.muted=!i}catch(e){console.error(e)}}(t,e)}))}))})),window.bannerConfig.hybridRender&&document.querySelectorAll("video, audio").forEach((e=>{!function(e){e.dataset.soundOnHover===(!0).toString()&&(e.muted=!0)}(e)})),e.inited=!0)}}replaceButtonLayerFontFamily(e,t){const i=null==t?void 0:t.find((t=>t.originalFont.fontFamily===e.fontFamily));return e.fontFamily&&i?Qe(Qe({},e),i.fallbackFont):e}replaceTextLayerFontFamily(e,t){return Je(Qe({},e),{nodes:function e(i){return i.map((i=>{if(i.children&&i.children.length>0)return Je(Qe({},i),{children:e(i.children)});{const e=t.find((e=>{var t,n;return(null==(t=e.originalFont)?void 0:t.fontFamily)===(null==(n=null==i?void 0:i.fontSettings)?void 0:n.fontFamily)}));if((null==i?void 0:i.fontSettings)&&e)return Je(Qe({},i),{fontSettings:Qe(Qe({},i.fontSettings),e.fallbackFont)})}return i}))}(e.nodes)})}applyFallbackFonts(e,t){return t&&t.length?e.banner&&e.banner.elements?(e.banner.elements=e.banner.elements.map((e=>e.elements?(e.elements=e.elements.map((e=>("layer"===e.type&&"text"===e.layerType?e.properties.config=this.replaceTextLayerFontFamily(e.properties.config,t):"layer"===e.type&&"button"===e.layerType&&(e.properties.labelStyle=this.replaceButtonLayerFontFamily(e.properties.labelStyle,t)),e))),e):(console.error("Slide elements are undefined."),e))),e):(console.error("Banner or banner elements are undefined."),e):e}augmentFeed(e,t){window.feedJson&&window.feedJson({json:e.banner,feedRowData:t})}init(e,t,i,n,s){N.pause();const r=this;if(n&&this.augmentFeed(t,n),s){const{feedRow:e,feedTargetId:n}=i;let o=n;o||(o=e);const{fallbackFonts:a}=s,l=null==a?void 0:a.find((e=>e.languageCode===o));if(l){const{fonts:e}=l;t=r.applyFallbackFonts(t,e)}}const o=Math.round(t.banner.properties.width),a=Math.round(t.banner.properties.height);if(t.banner.properties.width=o,t.banner.properties.height=a,this.json=t,this.config=i,this.bannerContainer=e,this.config.assetsPreloaded)this.initBanner();else{this.preload=new T;const e=parseInt(i.startSlide)||0,n=t.banner.elements.filter((e=>"slide"===e.type));i.hybridRender?this.preload.allAssets(t.banner,i,this.initBanner):(this.preload.assets(t.banner,n[e],i,this.initBanner),window.loadAssetsTimer=setTimeout((()=>{r.preload.resolveIfAssetsLoaded(!0)}),3e3))}}showWatermark(){window.BS_ShowWatermark&&window.BS_ShowWatermark()}resumeBanner(){N.resume(),this.trigger("playMedia"),this.trigger("playAutoscroll")}pauseBanner(){N.pause(),this.trigger("pauseMedia")}stopMedia(){N.pause(),this.trigger("stopMedia")}};function Ze({properties:{config:e}}){var t;return(null==(t=null==e?void 0:e.boundary)?void 0:t.type)===tt.autoscroll}var et=(e=>(e.MOVE="move",e.ROTATE="rotate",e.SCALE="scale",e.OPACITY="opacity",e.BLUR="blur",e))(et||{});Object.values(et);const tt={overflow:"overflow",shrink:"shrink",ellipsis:"ellipsis",autoscroll:"autoscroll"},it={LEGACY:"legacy",PARAGRAPH:"paragraph",SUB_PARAGRAPH:"subparagraph",WRAPPER:"wrapper",BULLET_LIST:"bullet-list",NUMBERED_LIST:"number-list",LIST_ITEM:"list-item",FEED_CHIP:"feed-chip",LINK:"link",WORD:"word"},nt={DECORATION:"textDecoration",SCRIPT:"textScript",TRANSFORM:"textTransform",FONT_SETTINGS:"fontSettings",COLOR:"color",GRADIENT:"gradient",FEED_TEXT:"feedText",FILL:"fill"},st="none",rt="superscript",ot="subscript",at="autoscrollBoundary",lt="px",dt=".row",ct=".row-item",pt="ellipsisWrapper",ht=.05,ut=e=>"text"in e?e.text:e.children.map((e=>ut(e))).join("");function yt(e,t,i,n,s=!1){return e>t||i>n||s&&e===t&&i===n}function ft(e,t,i=lt){Array.from(e.querySelectorAll(dt)).forEach(((e,n)=>{const s=t[n]||[parseFloat(e.style.fontSize)];e.style.fontSize=`${s[0]}${i}`,e.querySelectorAll(ct).forEach(((e,t)=>{const n=s[t]||e.style.fontSize;e.style.fontSize=`${n}${i}`}))}))}function mt(e){return Array.from(e.querySelectorAll(dt)).reduce(((e,t,i)=>(e.push([]),t.querySelectorAll(ct).forEach((t=>{e[i].push(parseFloat(t.style.fontSize))})),e)),[])}function bt(e,t,i){return e.reduce(((e,i)=>{if(i.children)return bt(i.children,t,1);const n=function(e){return e.fontSettings?(1+(e.fontSizePercent||0)/100)*(e.fontSize||0):null}(i)||t;return n<e||0===e?n:e}),0)*i}function gt(e){const t=e[0].children[0];return t.children?gt(e[0].children):t.gradient&&"solid"===t.gradient.type?t.gradient.scolor:t.color}function wt(e){const t=document.createElement("div");return Object.assign(t.style,{position:"absolute",visibility:"hidden",margin:"0",whiteSpace:"pre-line",wordBreak:"normal",wordWrap:"normal",textWrap:"pretty",fontVariantLigatures:"none"}),t.appendChild(e),document.body.prepend(t),t}function Ct(e){const{fontSize:t,scale:i=1,paddingRight:n,paddingLeft:s,paddingTop:r,paddingBottom:o,config:{nodes:a,boundary:{minFontSize:l}={}}}=e.properties,d=e.displayContainer,c=bt(a,t,i),p=l||.2*c,{fontSizes:h,overflowOnWidth:u}=function({elementToResize:e,minSize:t=6,maxSize:i=240,step:n=.3,unit:s=lt,paddingTop:r=0,paddingRight:o=0,paddingBottom:a=0,paddingLeft:l=0}){const d=e.cloneNode(!0);d.style.display="block",d.style.transform="none";const c=wt(d),p=l+o,h=r+a,u=c.clientHeight-h,y=c.clientWidth-p,f=mt(d),m=c.scrollHeight-u||c.scrollWidth-y;let b=Math.min.apply(Math,f.flat()),g=!1,w=!1,C=0,v=0;const S=d.querySelector(`.${pt}`);if(m>0){for(;!g&&b>t&&C<999;)C++,ft(d,f,s),g=yt(u,S.scrollHeight,y,S.scrollWidth,!0),g||(b-=n,f.forEach(((e,i)=>{e.forEach(((e,s)=>{f[i][s]=Math.max(f[i][s]-n,t)}))})));w=!g&&c.scrollWidth>c.clientWidth}else{let e=!1;for(;!g&&b<i&&v<999;)v++,ft(d,f,s),g=yt(c.scrollHeight,u,c.scrollWidth,y),g||(e=!0,b+=n,f.forEach(((e,t)=>{e.forEach(((e,i)=>{f[t][i]+=n}))})));e&&f.forEach(((e,t)=>{e.forEach(((e,i)=>{f[t][i]-=n}))}))}return document.body.removeChild(c),{fontSizes:f,overflowOnWidth:w}}({elementToResize:d,minSize:Math.max(p,6),maxSize:c,paddingTop:r,paddingRight:n,paddingBottom:o,paddingLeft:s});return ft(d,h),window.bannerConfig.saveFontSizeToJson&&a.forEach(((e,t)=>{e.children&&e.children.forEach(((e,i)=>{e.fontSize=h[t][i]}))})),{overflowOnWidth:u}}function vt({self:e,overflowOnWidth:t}){const{fontSize:i,scale:n=1,height:s,lineHeight:r,paddingTop:o=0,paddingBottom:a=0,config:{nodes:l}}=e.properties,d=mt(e.displayContainer).flat(),c=Math.max.apply(Math,d),p=function(e){let t=!1;if(1===e.length&&e[0].type===it.PARAGRAPH){const i=e[0].children.map(ut).join("");t=/[^\xa0](\xa0+)[^\xa0]/g.test(i)?i.split(/\xa0|\s/g).length<2:i.split(" ").length<2}return t}(l),h=r*(c||i*(n||1)),u=s*n,y=gt(l),f=o+a;let m=Math.floor((u-f)/h+.2)||1;if(p){const t=e.displayContainer.querySelector(ct);t&&Object.assign(t.style,{overflow:"hidden",whiteSpace:"pre-line",textOverflow:"ellipsis",display:"block"})}else{t&&(m=function({displayContainer:e,lineClamp:t}){const i=e.cloneNode(!0);i.style.display="block";const n=i.querySelector(`.${pt}`);if(!n)return t;Object.assign(n.style,{overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":t,"-webkit-box-orient":"vertical"});const s=wt(i),r=s.querySelector(".innerDisplayContainer");let o=t;if(r.clientWidth<r.scrollWidth){const e=s.querySelectorAll(ct);o=0;for(let t=0;t<e.length&&!(e[t].offsetWidth>r.clientWidth);t++)o+=1}return document.body.removeChild(s),o||1}({displayContainer:e.displayContainer,lineClamp:m}));const i=e.displayContainer.querySelector(`.${pt}`);i&&Object.assign(i.style,{overflow:"hidden",display:"-webkit-box",webkitLineClamp:m.toString(),webkitBoxOrient:"vertical",color:y})}}function St(e,t=!1){const{config:{boundary:{scrollSpeed:i,delayAnimationScroll:n}},buildIn:{type:s,duration:r,delay:o}}=e.properties,a=e.innerDisplayContainer||e.displayContainer;if(a){let l,d=function(){if(!1===c){a.scrollTopAbs=(a.scrollTopAbs||a.scrollTop)+1*i*p,a.scrollTop=a.scrollTopAbs,p=Math.min(p+ht,1);const t=a.scrollHeight-a.clientHeight;Math.round(a.scrollTop)<Math.round(t)?(H(l),l=_(d,50),e.buildTimeouts.push(l)):e.slide.banner.noAnimation&&(a.scrollTopAbs=0,a.scrollTop=0)}},c=!1,p=ht;t?(l=_(d,50),e.buildTimeouts.push(l)):(a.scrollTop=0,a.scrollTopAbs=0,l=_(d,1e3*n+1e3*("none"!==s?o+r:0)),e.buildTimeouts.push(l)),a.addEventListener("mouseenter",(()=>{e.effHelper.style.animationPlayState===O&&(c=!0)})),e.autoscrollMouseLeave&&a.removeEventListener("mouseleave",e.autoscrollMouseLeave),e.autoscrollMouseLeave=()=>{e.effHelper.style.animationPlayState===O&&(c=!1,p=ht,H(l),l=_(d,500),e.buildTimeouts.push(l))},a.addEventListener("mouseleave",e.autoscrollMouseLeave)}}var kt=i(962),Tt=Object.defineProperty,$t=Object.defineProperties,Et=Object.getOwnPropertyDescriptors,xt=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,At=Object.prototype.propertyIsEnumerable,It=(e,t,i)=>t in e?Tt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Pt=(e,t)=>{for(var i in t||(t={}))Ot.call(t,i)&&It(e,i,t[i]);if(xt)for(var i of xt(t))At.call(t,i)&&It(e,i,t[i]);return e},Dt=(e,t)=>$t(e,Et(t));const Lt="normal";var Mt=Object.defineProperty,Bt=Object.getOwnPropertySymbols,Ft=Object.prototype.hasOwnProperty,Ut=Object.prototype.propertyIsEnumerable,zt=(e,t,i)=>t in e?Mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,Rt=Object.defineProperty,Nt=Object.defineProperties,_t=Object.getOwnPropertyDescriptors,Ht=Object.getOwnPropertySymbols,Wt=Object.prototype.hasOwnProperty,jt=Object.prototype.propertyIsEnumerable,Gt=(e,t,i)=>t in e?Rt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;String.prototype.includes||(String.prototype.includes=function(e,t){return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value(e,t){if(null==this)throw new TypeError('"this" is null or not defined');const i=Object(this),n=i.length>>>0;if(0===n)return!1;const s=0|t;let r=Math.max(s>=0?s:n-Math.abs(s),0);for(;r<n;){if((o=i[r])===(a=e)||"number"==typeof o&&"number"==typeof a&&isNaN(o)&&isNaN(a))return!0;r++}var o,a;return!1}}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.getClickTagValue=ce;var Vt=function(){const e=new Ke;return window.document.addEventListener("DOMContentLoaded",(()=>{const{bannerConfig:t,bannerJson:i}=window;let n=i;const{fallbackImage:s,brandkitJsonHash:r}=n.banner.properties;if(s&&/MSIE|Trident/.test(window.navigator.userAgent)){const e=window.document.getElementsByTagName("noscript").item(0);if(e){const t=document.createElement("div");t.innerHTML=e.firstChild.data,e.parentElement.replaceChild(t,e)}}else n&&(r?function(e){return t=this,i=null,n=function*(){const t=`brandkits/${e}/json`,i=yield fetch(`${window.bannerConfig.s3Url}${t}?t=${(new Date).getTime()}`,{timeout:1e4});return i.ok&&(yield i.json())||null},new Promise(((e,s)=>{var r=e=>{try{a(n.next(e))}catch(e){s(e)}},o=e=>{try{a(n.throw(e))}catch(e){s(e)}},a=t=>t.done?e(t.value):Promise.resolve(t.value).then(r,o);a((n=n.apply(t,i)).next())}));var t,i,n}(r).then((e=>o(e))).catch((e=>{console.error(e),o()})):o());function o(i=null){e.init(window.document.getElementById("bs"),n,t,null,i)}})),e};window.BS_eaUtils=t,window.BS_eaUtils,window.BS_eff=ae,window.BS_eff,window.BS_EventDispatcher=de,window.BS_EventDispatcher,window.BS_BaseDisplay=Ae,window.BS_BaseDisplay,window.BS_BannerDisplay=He,window.BS_BannerDisplay,window.BS_SlideDisplay=_e,window.BS_SlideDisplay,window.BS_EmbedCanvas=Ke,window.BS_EmbedCanvas,window.BS_ShapeDisplay=class extends Ae{constructor(e){super(),this.retina=e}init(e){this.displayData=e;const{properties:t}=e;if(this.properties=t,this.createMainContainers("element",`shape ${t.type}`),-1!=r()){const e=this.createElement("img","fakeImage");e.src="data:image/gif;base64,R0lGODlhAQABAIAAANvf7wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",this.displayContainer.appendChild(e)}"line"===t.type&&(t.type="rectangle",t.width=t.len,t.height=t.thick,delete t.len,delete t.thick,this.properties=t),this.container.style.width=`${t.width}px`,this.container.style.height=`${t.height}px`;const i=this.getBRadius();i&&(this.displayContainer.style.borderRadius=`${i}px`);const n=this.getBorderString();if(this.displayContainer.style.border=n,n&&(this.displayContainer.style.backgroundClip="padding-box"),this.applyBackground(this.displayContainer,t.backgroundColor,this.retina),this.applyExtraPropertiesForGradients(this.displayContainer),t.backgroundColor&&t.backgroundColor.type&&"image"===t.backgroundColor.type&&"userCrop"===t.backgroundColor.scaleMode&&t.cropData){const e=t.cropData.width,i=t.cropData.height,n=this.getCropBackgroundPosition(t);this.displayContainer.style.backgroundSize=`${e}px ${i}px`,this.displayContainer.style.backgroundPositionX=`${n.x}px`,this.displayContainer.style.backgroundPositionY=`${n.y}px`,this.displayContainer.style.backgroundRepeat="no-repeat"}const s=this.getFlipString(t.flip);return this.transform(`rotate(${this.properties.rotation}deg) ${s}`,this.displayContainer),this.applyFilters(this.displayContainer,!1,this.properties.blur,this.properties.dropShadow),this.reset(),this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(this.displayContainer,this),this.applyActions(this.createActionProperties(),this.displayContainer),Ae.prototype.init.call(this,e)}},window.BS_ShapeDisplay,window.BS_VideoDisplay=Ue,window.BS_VideoDisplay,window.BS_TextDisplay=class extends Ae{init(e){this.displayData=e;const{properties:t}=e;this.properties=t,this.DOMParser=new DOMParser,this.createMainContainers("element","text"),this.innerDisplayContainer=this.createElement("div","innerDisplayContainer",!0,this.displayContainer,null);const i=(0,kt.getText)(t.config.nodes),n=(0,kt.getTextDirection)(i);return this.innerDisplayContainer.dir=n||t.textDirection||"ltr",this.initCommonProperties(),t.config&&t.config.type&&"slate"===t.config.type?this.initRichText():this.initSimpleText(),this.reset(),Ze({properties:this.properties})&&(window.bannerConfig.hybridRender&&(this.attachAutoScroll(this),this.innerDisplayContainer.addEventListener("wheel",(e=>{e.stopPropagation()}))),this.slide.banner.noAnimation&&!window.bannerConfig.hybridRender&&St(this),W(this.displayContainer,null,at)),super.init(e)}getFirstLeaf(){let{config:e}=this.properties;e.type&&"slate"===e.type&&(e=e.nodes);let t=e[0];for(;t.children;)[t]=t.children;return t}initCommonProperties(){const{properties:e}=this;this.transform(`rotate(${this.properties.rotation}deg)`,this.displayContainer),this.setStyle(this.displayContainer,"opacity");const t=this.displayContainer.style,{alignment:i,lineHeight:n,letterSpacing:s,scale:r=1,width:o,height:a,paddingTop:l=0,paddingBottom:d=0,paddingLeft:c=0,paddingRight:p=0,config:h,buildMid:y}=e;if(t.textAlign=i,t.lineHeight=n,t.letterSpacing=s*r+"px",t.width=o*r+"px",t.height=a*r+"px",t.padding=`${l}px ${p}px ${d}px ${c}px`,e.verticalAlign)switch(t.display="flex",t.flexDirection="column",e.verticalAlign){case"top":t.justifyContent="flex-start";break;case"center":t.justifyContent="center";break;case"bottom":t.justifyContent="flex-end"}let f=!1;const m=h?h.nodes:void 0;if(m&&m.length)for(const e of m)if(e.children&&e.children.length)for(const t of e.children){const{gradient:e}=t;e&&"solid"!==e.type&&(f=!0)}!f&&y&&y.type===re&&(f=!0),g(this.displayContainer,f?{}:u(this.properties.textShadow)),this.applyFilters(this.displayContainer,!1,this.properties.blur,f?this.properties.textShadow:void 0);const b=this.innerDisplayContainer.style;this.properties.scale&&(b["transform-origin"]="0 0")}initSimpleText(){this.text=this.createElement("span","text-content"),this.innerDisplayContainer.appendChild(this.text);const{properties:e}=this;this.setStyle(this.innerDisplayContainer,"fontWeight,fontStyle,color");const t=this.innerDisplayContainer.style;t.fontFamily=`"${e.fontPrefix||""}${e.fontFamily}"`,e.textTransform&&(t.textTransform=e.textTransform),e.textDecoration&&(t.textDecoration=e.textDecoration);try{this.text.textContent=this.properties.text}catch(e){}this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(this.text,this),this.applyActions(this.createActionProperties(),this.text)}initRichText(){this.applyConfigElements()}calculateFontSize(e){const{fontSize:t,scale:i}=this.properties,n=parseFloat(e.fontSize||t);return(n+(e.fontSizePercent||0)/100*n)*(i||1)}parseTextElement(e,t=1,i=!1){let n={position:"relative"},s=st;Object.values(nt).forEach((t=>{if(e[t]){if(t===nt.SCRIPT&&e[t]===rt)s=rt,n=Dt(Pt({},n),{position:"relative",top:"-0.38em"});else if(t===nt.SCRIPT&&e[t]===ot)n=Dt(Pt({},n),{position:"relative",bottom:"-0.12em"}),s=ot;else if(t===nt.SCRIPT&&e[t]===st)s=st;else if(t===nt.FONT_SETTINGS)n.fontFamily=`'${e[t].fontPrefix||""}${e[t].fontFamily.replace(new RegExp("'","g"),"\\'")}'`,n.fontWeight=e[t].fontWeight,n.fontStyle=e[t].fontStyle;else if(t===nt.GRADIENT){const i=e[t];if("solid"===i.type)n=Dt(Pt({},n),{color:i.scolor});else{let e,t="";for(let e=0;e<i.gradColors.length;e++)t+=`${i.gradColors[e].c} ${i.gradColors[e].p}%`,e!==i.gradColors.length-1&&(t+=",");if("rgrad"===i.type)e=`-webkit-radial-gradient(${i.rgradPos}, circle cover, ${t})`;else{let n=i.backgroundRotation;switch(i.backgroundRotation){case 90:n+=270;break;case 135:n+=180;break;case 180:n+=90;break;case 270:n-=90;break;case 315:n-=180;break;case 360:n-=270}e=`linear-gradient(${n}deg, ${t})`}n.backgroundImage=e,n.backgroundSize="100%",n["-webkit-background-clip"]="text",n["-webkit-text-fill-color"]="transparent"}}else t===nt.FEED_TEXT||(n=Dt(Pt({},n),{[t]:e[t]}));!1===e[nt.FILL]&&(n=Dt(Pt({},n),{color:"transparent"}),"solid"!==e[nt.GRADIENT]&&delete n.backgroundImage)}})),this.properties.buildMid&&!1!==e[nt.FILL]&&this.properties.buildMid.type===re&&"none"===e[nt.SCRIPT]&&(n.position="unset");const r=this.calculateFontSize(e);n.fontSize=`${r}px`,n.fontVariantLigatures=Lt;let o=(e=>{const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,(e=>t[e]))})(i?e.text:e.text.replace(/\r\n/g,"").replace(/\r/g,"").replace(/\n/g,""));if(!o&&t>1)return"";switch(i&&window.augmentWithMarkDowns&&(o=window.augmentWithMarkDowns(o)),s){case rt:return`<span class="row-item superscript" style="${x(n)}"><span style="font-size: 62%">${o||"<br/>"}</span></span>`;case ot:return`<span class="row-item subscript" style="${x(n)}"><span style="font-size: 62%">${o||"<br/>"}</span></span>`;default:return`<span class="row-item" style="${x(n)}">${o||"<br/>"}</span>`}}getRowFirstFontSettings(e){const t={};let[i]=e;for(;i.children;)[i]=i.children;const n=this.calculateFontSize(i);return t.fontSize=`${n}px`,t.fontWeight=i.fontSettings.fontWeight,t.fontStyle=i.fontSettings.fontStyle,t.fontFamily=`'${i.fontSettings.fontPrefix||""}${i.fontSettings.fontFamily.replace(new RegExp("'","g"),"\\'")}'`,t.fontVariantLigatures=Lt,t}serialize(e,t=1,i=!1){if(void 0!==e.text)return this.parseTextElement(e,t,i);const n=e.children.map((t=>this.serialize(t,e.children.length,e.type===it.FEED_CHIP))).join("");let s=e.style||{};switch(delete s.fontUrl,delete s.fontType,delete s.fontFaceUrl,s=Pt(Pt({},s),this.getRowFirstFontSettings(e.children)),e.type){case it.FEED_CHIP:return n;case it.LINK:return`<a href="${e.url}" target="_blank">${n}</a>`;default:return`<div class="row" style="${x(s)}">${n}</div>`}}hasWordAnimation(e){const{buildIn:t,buildOut:i}=e,n="none"!==t.type,s="none"!==i.type;return n&&("alpha-words"===t.type||"blur-words"===t.type)||s&&("alpha-words"===i.type||"blur-words"===i.type)}recursivelySerializeListElement(e,t=0,i=0,n=1){if(!e.type)return this.parseTextElement(e,n);let s=t,r=i;e.type===it.NUMBERED_LIST&&(r+=1),e.type===it.BULLET_LIST&&(s+=1);const o=e.children.map((t=>this.recursivelySerializeListElement(t,s,r,e.children.length))).join("");let a="";if(e.children&&e.children[0]&&e.children[0].color){const t=e.children[0],{color:i,gradient:n,fill:s}=t;let r=i;n&&"solid"===n.type?r=n.scolor:n&&"lgrad"===n.type?r=n.gradColors[0].c:n&&"rgrad"===n.type&&(r=n.gradColors[n.gradColors.length-1].c),a+=!1===s?"color:transparent;":`color:${r};`}if(e.children&&e.children[0]&&e.children[0][nt.FONT_SETTINGS]){const t=e.children[0][nt.FONT_SETTINGS];t.fontFamily&&(a+=`font-family:'${t.fontPrefix||""}${t.fontFamily.replace(new RegExp("'","g"),"\\'")}';`),t.fontWeight&&(a+=`font-weight:'${t.fontWeight}';`),t.fontStyle&&(a+=`font-style:'${t.fontStyle}';`)}let l="";if(this.hasWordAnimation(this.properties)){a+="display:block; vertical-align:top;";const e=window.document.createElement("span"),t=window.document.createElement("span");t.style.display="inline-block",t.className="break-words-list-bullet",e.innerText="",e.style.display="list-item",e.style.whiteSpace="pre",t.appendChild(e),l=t.outerHTML}const d=this.getFirstLeaf();a+=`font-size:${this.calculateFontSize(d)}px;`;const c=`\n            margin-top: 0;\n            margin-bottom: 0;\n            padding-left: 12px;\n            list-style-type:${(()=>{if(e.type===it.BULLET_LIST)switch(s){case 1:case 3:return"disc";case 2:return"circle";default:return""}else if(e.type===it.NUMBERED_LIST)switch(r){case 1:return"arabic";case 2:return"lower-latin";case 3:return"lower-roman";default:return""}return""})()};\n            list-style-position: inside;\n        `;switch(e.type){case it.FEED_CHIP:return o;case it.LINK:return`<a href="${e.url}" target="_blank">${o}</a>`;case it.LIST_ITEM:return`<li\n                    class="row"\n                    style="${a}">${l}${o}</li>`;case it.NUMBERED_LIST:return`<ol style="${c}">${o}</ol>`;default:return`<ul style="${c}">${o}</ul>`}}hasBoundary(){let{feed:e,contentHeightType:t,config:i}=this.properties;return(e&&e.text||"fixed"===t)&&i&&i.boundary&&i.boundary.type}applyConfigElements(){let{config:e}=this.properties;const t=this.hasBoundary()&&[tt.ellipsis,tt.shrink].includes(e.boundary.type);e.type&&"slate"===e.type&&(e=e.nodes);const i=this;e.forEach((e=>{let t="";t=[it.PARAGRAPH,it.FEED_CHIP].includes(e.type)?this.serialize(e):this.recursivelySerializeListElement(e);const n=this.DOMParser.parseFromString(t,"text/html").body.childNodes[0];i.innerDisplayContainer.appendChild(n)}));const n=i.innerDisplayContainer.querySelectorAll("a");this.attachEventsAndActions(this.innerDisplayContainer),n.forEach((e=>{const t=e.getAttribute("href");let n=i.properties.actions.find((e=>"click"===e.event&&e.originalUrl===t));n||(n={event:"click",type:"gotoURL",target:"_blank",url:t,originalUrl:t,useHandCursor:!0}),n.slideOrUrl=n.url,this.applyActions(n,e,!0)})),t&&function(e){const{config:{boundary:{type:t}={}}={}}=e.properties,i=e.createElement("div",pt,!1);i.appendChild(e.innerDisplayContainer),e.displayContainer.innerHTML=i.outerHTML;let n=!1;t===tt.shrink&&({overflowOnWidth:n}=Ct(e)),vt({self:e,overflowOnWidth:n||t===tt.ellipsis}),e.addClass(e.displayContainer,"boundary")}(this),Ze({properties:this.properties})&&(i.addClass(this.displayContainer,at),this.innerDisplayContainer.classList.add("autoscrollBoundaryInner"))}attachEventsAndActions(e){this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(e,this),this.applyActions(this.createActionProperties(),e)}reset(){let e;super.reset(this),e=this.properties.config?this.container.getElementsByClassName("word"):this.container.getElementsByClassName("text-content")[0].getElementsByTagName("span"),ae.clearWordsTimeout(this.container,e);for(let t=0;t<e.length;t++){const i=e[t].style;i.opacity=1,i.animation="",i["-webkit-animation"]=""}Ze({properties:this.properties})&&this.autoscrollMouseLeave&&this.innerDisplayContainer.removeEventListener("mouseleave",this.autoscrollMouseLeave)}playAnimation(e){super.playAnimation(e),Ze({properties:this.properties})&&St(this)}attachAutoScroll(e){window.bannerConfig.hybridRender&&window.embedCanvas&&window.embedCanvas.on("playAutoscroll",(()=>St(e,!0)))}},window.BS_TextDisplay,window.BS_ButtonDisplay=class extends Ae{getHoverBackgroundColor(){if(!this.properties.backgroundColor)return null;const e=JSON.parse(JSON.stringify(this.properties.backgroundColor));switch(e.type){case"solid":e.scolor=a(e.scolor,10);break;case"rgrad":case"lgrad":{const{gradColors:t}=e;for(let e=0;e<t.length;e++)t[e].c=a(t[e].c,10);break}}return e}getBackgroundHoverCss(e){const t=f(e);let i="";for(const e in t)if("background-image"===e)for(let n=0;n<t[e].length;n++)i+=`background-image:${t[e][n]} !important;`;else t[e]&&(i+=`${e}: ${t[e]} !important;`);return i}getBorderColorHoverCss(e,t){var i;if(!e)return"";const r=n(e),o=e.includes("#")?e:s(r,!1);return`border-color: ${function(e,t){const i="#"===e[0]?e.substr(1):e,n=function(e){return[e>>16,e>>8&255,255&e]}(parseInt(i,16));return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${t})`}(t?o:a(o,10),null!=(i=r.a)?i:1)} !important;`}getHoverStyle(e,t,i,n,s){if(e){let r=this.getBackgroundHoverCss(e.backgroundColor);"solid"===e.backgroundColor.type&&(r+=`${r} background-image: none !important;`),"none"===e.backgroundColor.type&&(r+=`${r} background: none !important;`),t=`${i}:hover{\n                ${r}${this.getBorderColorHoverCss(e.border.color,!0)}\n                border-radius: ${e.border.radius}px !important;border-width: ${e.border.weight}px !important;\n                border-style: solid !important;${e.dropShadow.useShadow?`box-shadow: ${e.dropShadow.color}\n                ${e.dropShadow.hShadow}px ${e.dropShadow.vShadow}px\n                ${e.dropShadow.blur}px ${e.dropShadow.spread}px !important;`:""}}`;const o=`bs-btn-label${n.bannersetElementId||n.id}`;l(`${i}:hover .bs-btn-label{\n            color: ${e.labelStyle.color} !important;${e.labelShadow.useShadow?`text-shadow: ${e.labelShadow.color}\n                ${e.labelShadow.hShadow}px ${e.labelShadow.vShadow}px\n                ${e.labelShadow.blur}px !important;`:""}${s?`background-image: url("${s}hover-${n.localUrl}") !important;`:""}${s?`filter: drop-shadow(${e.labelShadow.color}\n                ${e.labelShadow.hShadow}px ${e.labelShadow.vShadow}px\n                ${e.labelShadow.blur}px) !important;`:""}}`,o)}return t}init(e){this.displayData=e;const{properties:t}=e;"string"==typeof t.backgroundColor&&(t.backgroundColor={type:"solid",scolor:t.backgroundColor});const i=t.border||{},n=t.hoverState;t["border-radius"]=t.border&&t.border.radius?t.border.radius:t.borderRadius,this.properties=t,this.createMainContainers("element",`bs-btn btn${t.bannersetElementId||t.id}`);const s=void 0!==bannerConfig.imgLocalPath?bannerConfig.imgLocalPath:"media/";let r=!1;if(t.localUrl&&t.localUrl.includes(".svg"))this.textContainer=this.createElement("div","bs-btn-label image-crop",!0,this.displayContainer),this.textContainer.style.backgroundImage=`url(${s}${t.localUrl})`,this.textContainer.style.height="100%",this.applyFilters(this.textContainer,null,null,t.labelShadow),i.weight&&this.applyExtraPropertiesForGradients(this.displayContainer),r=!0;else{this.textContainer=this.createElement("label","bs-btn-label",!0,this.displayContainer),t.html?this.textContainer.innerHTML=t.html:this.textContainer.textContent=t.buttonLabel,this.textContainer.dir=t.labelStyle.textDirection||"ltr";const e=t.buttonLabel.split("\n"),n=((e,t)=>{for(var i in t||(t={}))Ft.call(t,i)&&zt(e,i,t[i]);if(Bt)for(var i of Bt(t))Ut.call(t,i)&&zt(e,i,t[i]);return e})({},t.labelStyle);if(e.length>1&&(n["white-space"]="pre-wrap",n["overflow-wrap"]="break-word"),this.setStyle(this.textContainer,"line-height,labelOffsetX,labelOffsetY","px"),("string"!=typeof n.fontSize||"string"==typeof n.fontSize&&!n.fontSize.includes("px"))&&(n.fontSize=`${n.fontSize}px`),("string"!=typeof n.letterSpacing||"string"==typeof n.letterSpacing&&!n.letterSpacing.includes("px"))&&(n.letterSpacing=`${n.letterSpacing}px`),"string"==typeof n.fontFamily&&!n.fontFamily.includes('"')){const e=`"${n.fontPrefix||""}${n.fontFamily}"`;n.fontFamily=e}g(this.textContainer,n),g(this.textContainer,u(t.labelShadow)),i.weight&&this.applyExtraPropertiesForGradients(this.displayContainer)}g(this.displayContainer,y(t.dropShadow)),this.displayContainer.style.border=this.getBorderString(),this.applyBackground(this.displayContainer,t.backgroundColor);const o=`.bs-btn.btn${t.bannersetElementId||t.id}`,a=`bs-btn${t.bannersetElementId||t.id}`;let d=`${o}:hover{${this.getBackgroundHoverCss(this.getHoverBackgroundColor())}${this.getBorderColorHoverCss(i.color)}}`;d=this.getHoverStyle(n,d,o,t,r?s:""),l(d,a),this.reset();const c=this.createActionProperties();return c&&"click"===c.event&&!c.useHandCursor&&this.addClass(this.displayContainer,"no-hand-cursor"),this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(this.container,this),this.applyActions(c,this.container),Ae.prototype.init.call(this,e)}reset(){Ae.prototype.reset.call(this),this.setStyle(this.displayContainer,"width,height,border-radius","px")}},window.BS_ButtonDisplay,window.BS_CountdownDisplay=class extends Ae{init(e){this.displayData=e;const{properties:t}=e;this.properties=t,this.initCountdown(),this.createMainContainers("element","countdown"),this.innerDisplayContainer=this.createElement("div","innerDisplayContainer",!0,this.displayContainer,null),this.innerDisplayContainer.dir=t.textDirection||"ltr",this.initCommonProperties(),t.config&&this.initRichText(),this.reset(),this.renderFirstTime=!0;const i=this;return this.slide&&this.slide.banner&&this.slide.banner.on("changeSlide",(e=>{const t=e.data;i.slide.isOverflowSlide&&!t||(i.clearCountdownInterval(),i.reset(),i.renderFirstTime=!0,i.initCountdown())})),super.init(e)}getTransitionDuration(){return this.slide.banner.lastSlide&&this.slide.banner.lastSlide.displayData&&this.slide.banner.lastSlide.displayData.properties.transition&&this.slide.banner.lastSlide.displayData.properties.transition.type!==j?this.slide.banner.lastSlide.displayData.properties.transition.duration:0}initCountdown(){let e=0,t=0,i=0,n=0;const{countToDate:s,countValue:r,buildIn:{delay:o}}=this.properties,a=1e3*((o||0)+this.getTransitionDuration());if(s){const{countTimeZone:s}=this.properties,o=new Date,l=o.getTimezoneOffset()/60*-1,d=new Date(o.getTime()+6e4*o.getTimezoneOffset()),c=new Date(r),p=3600,h=s*p*1e3,u=new Date(d.getTime()+h);let y;if(this.slide.banner.showOnlyOneSlide)y=(new Date(c.getTime()+6e4*c.getTimezoneOffset()).getTime()-u.getTime()+a+1e3)/1e3;else{const e=l>s&&u.getTime()>o.getTime()?u:o;y=(c.getTime()-e.getTime()+a+1e3)/1e3}e=Math.floor(y/(24*p)),e=e<0?0:e;const f=24*e;t=Math.floor(y/p-f),t=t<0?0:t,i=Math.floor(y/60-60*t-60*f),i=i<0?0:i,n=Math.floor(y/1-60*i-p*t-p*f),n=n<0?0:n}else n=r||0;this.timeLeft={days:e,hours:t,minutes:i,seconds:n},this.initialTime={days:e,hours:t,minutes:i,seconds:n},this.playPosInSeconds=null,this.slide.banner.showOnlyOneSlide||setTimeout((()=>{this.countdownIteration()}),a)}setTime(e){this.timeLeft=e,this.setText()}setText(){const e=this.properties.countToDate?`${this.timeLeft.days.toString().padStart(2,"0")}:${this.timeLeft.hours.toString().padStart(2,"0")}:${this.timeLeft.minutes.toString().padStart(2,"0")}:${this.timeLeft.seconds.toString().padStart(2,"0")}`:`${this.timeLeft.seconds}`;return this.innerDisplayContainer&&this.innerDisplayContainer.firstChild&&this.innerDisplayContainer.firstChild.firstChild&&(this.innerDisplayContainer.firstChild.firstChild.textContent=e),e}clearCountdownInterval(){this.countdownInterval&&(clearInterval(this.countdownInterval),this.countdownInterval=void 0)}countdownIteration(){var e,t;if(0!==this.timeLeft.days||0!==this.timeLeft.hours||0!==this.timeLeft.minutes||0!==this.timeLeft.seconds)if(null==this.playPosInSeconds){if(!this.countdownInterval){const i=this;this.renderFirstTime&&(this.renderFirstTime=!1,this.timeLeft=(e=((e,t)=>{for(var i in t||(t={}))Wt.call(t,i)&&Gt(e,i,t[i]);if(Ht)for(var i of Ht(t))jt.call(t,i)&&Gt(e,i,t[i]);return e})({},this.timeLeft),t={seconds:this.timeLeft.seconds+1},Nt(e,_t(t)))),this.countdownInterval=setInterval((()=>i.countdownIteration()),1e3)}0===this.timeLeft.hours&&0===this.timeLeft.minutes&&0===this.timeLeft.seconds?this.setTime({days:this.timeLeft.days-1,hours:23,minutes:59,seconds:59}):0===this.timeLeft.minutes&&0===this.timeLeft.seconds?this.setTime({days:this.timeLeft.days,hours:this.timeLeft.hours-1,minutes:59,seconds:59}):0===this.timeLeft.seconds?this.setTime({days:this.timeLeft.days,hours:this.timeLeft.hours,minutes:this.timeLeft.minutes-1,seconds:59}):this.setTime({days:this.timeLeft.days,hours:this.timeLeft.hours,minutes:this.timeLeft.minutes,seconds:this.timeLeft.seconds-1})}else{this.clearCountdownInterval();let{days:e,hours:t,minutes:i,seconds:n}=this.initialTime;const{countToDate:s,countValue:r,buildIn:{delay:o}}=this.properties;s?n-Math.floor(this.playPosInSeconds)<0?(n=n-Math.floor(this.playPosInSeconds)+60,i-1<0?(i=59,t-1<0?(t=23,e-1<0?e=0:e-=1):t-=1):i-=1):n-=Math.floor(this.playPosInSeconds):n=n-this.playPosInSeconds+o+1>=0?Math.min(Math.floor(n-this.playPosInSeconds+o+1),r):0,this.setTime({days:e,hours:t,minutes:i,seconds:n})}else this.clearCountdownInterval()}initCommonProperties(){const{rotation:e,alignment:t,lineHeight:i,letterSpacing:n,textShadow:s,blur:r,scale:o,width:a,height:l}=this.properties;this.transform(`rotate(${e}deg)`,this.displayContainer),this.setStyle(this.displayContainer,"opacity"),this.setStyle(this.displayContainer,"fontSize","px");const d=this.displayContainer.style;if(d.textAlign=t,d.lineHeight=i,d.letterSpacing=`${n}px`,d.width="100%",d.height="100%",g(this.displayContainer,u(s)),this.applyFilters(this.displayContainer,!1,r),o){const e=this.innerDisplayContainer.style;e.width=`${a}px`,e.height=`${l}px`,this.transform(`scale(${o})`,this.innerDisplayContainer),e["transform-origin"]="0 0"}}initRichText(){this.applyConfigElements()}applyConfigElements(){const e=this.setText(),{config:t}=this.properties,i=e.replace(/\n/g,""),n=this;t.forEach((t=>{const{offset:s,length:r,nodeType:o,style:a,children:l}=t;0===s&&r===e.length?n.innerDisplayContainer.appendChild(n.getNode(o,i,a,i,l)):n.innerDisplayContainer.appendChild(n.getNode(o,S(i,s,r),a,i,l))}))}attachEventsAndActions(e){this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(e,this),this.applyActions(this.createActionProperties(),e)}getNode(e,t,i,n,s){i||(i=null),n||(n=null),s||(s=null);const r=document.createElement(e),o=function(e){if(!e)return"";let t="";for(const i in e)if({}.hasOwnProperty.call(e,i)&&e[i])switch(i){case"fontFamily":t+=`font-family:${0===e[i].indexOf('"')?e[i]:`"${e.fontPrefix||""}${e[i]}"`};`;break;case"fontWeight":case"fontStyle":case"color":case"textTransform":case"textDecoration":t+=`${k(i)}:${e[i]};`}return t}(i);if(o&&(r.style.cssText=o),"div"===e?r.className="row":"span"===e&&this.attachEventsAndActions(r),!s||!s.length){if(t||"div"!==e)if("div"===e){const e=document.createElement("span");e.textContent=t,r.appendChild(e),this.attachEventsAndActions(e)}else r.textContent=t;else r.appendChild(document.createElement("BR"));return r}const a=this;return s.forEach((e=>{const{offset:t,length:i}=e,s=e.nodeType,o=e.style,l=n?S(n,t,i):"";r.appendChild(a.getNode(s,l,o))})),r}reset(){let e;super.reset(this),e=this.properties.config?this.container.getElementsByClassName("word"):this.container.getElementsByClassName("text-content")[0].getElementsByTagName("span"),ae.clearWordsTimeout(this.container,e);for(let t=0;t<e.length;t++){const i=e[t].style;i.opacity=1,i.animation="",i["-webkit-animation"]=""}}},window.BS_CountdownDisplay,window.BS_ImageDisplay=class extends Ae{constructor(e){super(),this.retina=e}init(e){this.displayData=e,this.triggerReadyOnRender=!1,this.properties=e.properties,this.source=this.properties.source;const{properties:t,source:i}=this;let n;this.createMainContainers("element",`bs-image image-${t.scaleMode}`),this.transformContainer=this.createElement("div","transform-container"),this.displayContainer.parentNode.appendChild(this.transformContainer),t.maskImage?(this.maskContainer=this.createElement("div"),this.maskContainer.appendChild(this.displayContainer),this.transformContainer.appendChild(this.maskContainer)):this.transformContainer.appendChild(this.displayContainer);const{bannerConfig:s}=window;if(s.hqImages&&this.properties.hqUrl&&i!==window.bannerConfig.watermark.source?n=this.properties.hqUrl:this.properties.localUrl?(n=`${void 0!==s.imgLocalPath?s.imgLocalPath:"media/"}${this.properties.localUrl}`,s.embedUrl&&(n=s.embedUrl+n)):n=t.url&&(t.url.includes("//")||t.url.startsWith("data"))?t.url:s.photosUrl+t.url,!0===this.retina&&this.properties.retinaReady&&(this.displayContainer.classList.add("retina"),i===window.bannerConfig.watermark.source&&window.bannerConfig.watermark.show?this.displayContainer.style.setProperty("--retina-src",`url(${window.bannerConfig.watermark.watermarkX2}), url("${pe(n)}")`):this.displayContainer.style.setProperty("--retina-src",`url("${pe(n)}")`)),n)if(i===window.bannerConfig.watermark.source&&window.bannerConfig.watermark.show){let e;e=window.devicePixelRatio>1?window.bannerConfig.watermark.watermarkX2:window.bannerConfig.watermark.watermarkX1,this.displayContainer.style.backgroundImage=`url(${e}), url(${n})`,b(this.displayContainer.style,t.scaleMode)}else{let e=window.assetsCache[n];e&&e.imageLoadedWithError&&this.properties.backupUrl&&(n=this.properties.backupUrl),this.displayContainer.style.backgroundImage=`url("${n}")`}let r,o;switch(this.applyFilters(t.maskImage?this.transformContainer:this.displayContainer,t.adjustColor,t.blur,t.dropShadow),t.verticalAlign){case"top":r="0";break;case"middle":r="50%";break;case"bottom":r="100%"}switch(t.horizontalAlign){case"left":o="0";break;case"center":o="50%";break;case"right":o="100%"}if(this.displayContainer.style.backgroundPosition=`${o} ${r}`,"tile"===t.scaleMode){const e=t.contentScale,n=t.originalWidth?t.originalWidth:t.oWidth;this.displayContainer.style.backgroundSize=e/100*n+"px",this.displayContainer.style.backgroundPositionX=`${t.contentOffsetX}%`,this.displayContainer.style.backgroundPositionY=`${t.contentOffsetY}%`,i===window.bannerConfig.watermark.source&&window.bannerConfig.watermark.show&&(this.displayContainer.style.backgroundSize=`${window.bannerConfig.watermark.size}px,                ${e/100*n}px`)}else if("userCrop"===t.scaleMode&&t.cropData){const e=t.cropData.width,n=t.cropData.height,s=this.getCropBackgroundPosition(t);this.displayContainer.style.backgroundSize=`${e}px ${n}px`,this.displayContainer.style.backgroundPositionX=`${s.x}px`,this.displayContainer.style.backgroundPositionY=`${s.y}px`,this.displayContainer.style.backgroundRepeat="no-repeat",i===window.bannerConfig.watermark.source&&window.bannerConfig.watermark.show&&(this.displayContainer.style.backgroundSize=`${window.bannerConfig.watermark.size}px,                ${e}px ${n}px`,this.displayContainer.style.backgroundRepeat="repeat, no-repeat")}this.transformContainer.style.height="100%",this.transformContainer.style.width="100%";const a=this.getFlipString(t.flip);this.transform(`translateZ(0) rotate(${t.rotation}deg) ${a}`,this.transformContainer),this.reset();return t.maskImage&&(this.onLoadSlide=()=>{this.transformContainer.style.opacity=this.displayContainer.style.opacity,this.displayContainer.style.removeProperty("opacity")},window.bannerConfig.pdf&&(this.maskContainer.style.border="1px solid transparent"),this.maskContainer.style.width="100%",this.maskContainer.style.height="100%",g(this.maskContainer,Be(t.maskImage))),this.slide.banner.statsPresent&&this.slide.banner.stats.trackEvent(this.displayContainer,this),this.applyActions(this.createActionProperties(),this.displayContainer),Ae.prototype.init.call(this,e)}},window.BS_ImageDisplay,window.BS_zoom=(e,t)=>{const i="buildIn"===t,n=parseInt(e.alphaOffset);let s=0,r=0;switch(e.direction){case"l2r":s=-50;break;case"r2l":s=50;break;case"t2b":r=-50;break;case"b2t":r=50}i||(s*=-1,r*=-1);const o=`${e.type}_${t}_${s}_${r}_${e.zoom}_${n}_${e.blurAmount}`;if(D(o))return o;const a={transform:`scale(${e.zoom}) translateX(${s}%) translateY(${r}%)`,filter:`blur(${e.blurAmount}px)`,opacity:n/100};return L(o,[{percent:i?0:100,props:a},{percent:i?100:0,props:{transform:"scale(1)",filter:"blur(0)",opacity:"1"}}]),o},window.BS_zoom,window.BS_blur=(e,t)=>{const i="buildIn"===t,n=`blur_${t}_${e.blurAmount}`;if(D(n))return n;const s={filter:`blur(${e.blurAmount}px)`,opacity:"0"};return L(n,[{percent:i?0:100,props:s},{percent:i?30:70,props:{opacity:1}},{percent:i?100:0,props:{filter:"blur(0px)"}}]),n},window.BS_blur,window.BS_pulsate=({type:e,ease:t,tween:i,motionTime:n,variation:s},r)=>{const o=`${e}_${r}_${t}_${i}_${10*n}_${s}`,a={transform:"scale(1)"};return L(o,[{percent:0,props:a},{percent:50,props:{transform:`scale(${"forward"===s?1.1:.9})`}},{percent:100,props:a}]),o},window.BS_pulsate,window.BS_slide=(e,t)=>{const i="buildIn"===t,n=((e,t)=>{let i=0,n=0;const s=parseInt(e.slideOffset);switch(e.direction){case"custom":i=parseInt(e.slidePosX),n=parseInt(e.slidePosY);break;case"l2r":i=t?-s:s;break;case"r2l":i=t?s:-s;break;case"t2b":n=t?-s:s;break;case"b2t":n=t?s:-s}return{translateX:i,translateY:n,alpha:parseInt(e.alphaOffset)}})(e,i),s=n.translateX,r=n.translateY,o=n.alpha,a=`${e.type}_${t}_${s}_${r}_${o}`;return D(a)||L(a,[{percent:i?0:100,props:{transform:`translateX(${s}px) translateY(${r}px)`,opacity:o/100}},{percent:i?100:0,props:{transform:"translateX(0) translateY(0)",opacity:"1"}}]),a},window.BS_slide,window.BS_alpha=(e,t)=>{const i="buildIn"===t,n=`alpha_${t}`;return D(n)||L(n,[{percent:i?0:100,props:{opacity:"0",transform:"translateX(0) translateY(0)"}},{percent:i?100:0,props:{opacity:"1"}}]),n},window.BS_alpha,window.BS_init=Vt,window.BS_init,window.embedCanvas=Vt()}()}();